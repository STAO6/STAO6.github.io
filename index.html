<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="javascript, vue" />










<meta name="description" content="前端学习">
<meta property="og:type" content="website">
<meta property="og:title" content="STAO_blog">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;index.html">
<meta property="og:site_name" content="STAO_blog">
<meta property="og:description" content="前端学习">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'STAO'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>STAO_blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">STAO_blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/09/%E8%AE%A9%E5%90%8E%E5%8F%B0%E5%B0%8F%E5%93%A5%E8%83%BD%E5%BF%AB%E9%80%9F%E5%AF%B9%E6%8E%A5%E4%BD%A0%E7%9A%84%E5%89%8D%E7%AB%AF%E9%A1%B5%E9%9D%A2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="STAO">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="STAO_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/09/%E8%AE%A9%E5%90%8E%E5%8F%B0%E5%B0%8F%E5%93%A5%E8%83%BD%E5%BF%AB%E9%80%9F%E5%AF%B9%E6%8E%A5%E4%BD%A0%E7%9A%84%E5%89%8D%E7%AB%AF%E9%A1%B5%E9%9D%A2/" itemprop="url">让后台小哥能快速对接你的前端页面</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-06-09T17:22:13+08:00">
                2020-06-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CODE/" itemprop="url" rel="index">
                    <span itemprop="name">CODE</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>首先需要澄清一下，该篇文章并非标题党。这里介绍需要实现的效果是<strong>让后台工作人员不需要前端改动网络请求基础地址的前提下，使用前端代码便于本地调试</strong>。</p>
<p>不好意思这里说的可能有点绕了，待我给你简单的说明一下你就明白了。</p>
<p>我们知道前端在对接后台的时候都有这么一个基础地址，所有的后台接口调用都是通过它：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">let _baseURL = &apos;http://api.xxx.develop.com&apos;</span><br><span class="line"></span><br><span class="line">const service = axios.create(&#123; // 创建 axios 实例</span><br><span class="line">  baseURL: _baseURL, // api base_url</span><br><span class="line">  timeout: 120000 // 请求超时时间</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>现在假设有这么一个场景：</p>
<p>后台和前端一起开发某个需求，前端童鞋比较勤(huo)劳(shao)已经开发完页面并将代码都部署到了公司的开发环境<code>http://xxx.develop.com</code>上。</p>
<p>此时后台小哥哥<code>A</code>想找你对接接口，你会运行本地的前端项目，然后将配置中的<code>_baseURL</code>改为同事<code>A</code>的<code>IP</code>地址(假设为<code>10.0.17.231:1001</code>);</p>
<p>但同事<code>B</code>也开发完了想与你对接，你会怎么做？</p>
<p>“稍等一下哈，小张现在在和我对接”</p>
<p>“要不你先自己用<code>postman</code>自测一下你的接口？”</p>
<p>好为南啊，前端童鞋想做到雨露均沾啊，怎么办…</p>
<p>此时你多么希望能把你的前端项目当成一个静态的页面，让后台小哥哥只要配置上自己的<code>IP</code>地址就可以查看前端页面并进行本地调试，而不再需要前端开启服务。</p>
<p>该篇文章就是针对以上这种情况提供一种简单的方案，若还有更优的解决方案请评论区留言，一起学习一下😊</p>
<h2 id="实现思路"><a href="#实现思路" class="headerlink" title="实现思路"></a>实现思路</h2><ol>
<li>利用浏览器的<code>Local Storage</code>将后台的<code>IP</code>地址存储在其中;</li>
<li>前端在<strong>网络请求</strong>代码层上做一些适配,判断<code>Local Storage</code>中是否有指定的<code>IP</code>地址,若是有的话则使用该地址。</li>
</ol>
<h2 id="前端网络请求适配"><a href="#前端网络请求适配" class="headerlink" title="前端网络请求适配"></a>前端网络请求适配</h2><p>这里我以使用<code>axios</code>为例进行讲解，你的代码中可能存在这么一段东西：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// request.js</span><br><span class="line">let _baseURL = &apos;http://api.xxx.develop.com&apos;</span><br><span class="line"></span><br><span class="line">const service = axios.create(&#123; // 创建 axios 实例</span><br><span class="line">  baseURL: _baseURL, // api base_url</span><br><span class="line">  timeout: 120000, // 请求超时时间</span><br><span class="line">  headers: &#123; &apos;Content-Type&apos;: &apos;application/json&apos; &#125;</span><br><span class="line">&#125;)</span><br><span class="line">...</span><br></pre></td></tr></table></figure>



<p>(<code>request.js</code>是项目中的网络请求配置)</p>
<p>我们只需要将<code>baseURL</code>做一个简单的适配就可以了,</p>
<p>定义一个<code>setBaseURL</code>的函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function setBaseURL () &#123;</span><br><span class="line">  const webHost = localStorage.getItem(&apos;webHost&apos;) // 获取浏览器本地存储中Key为webHost那一项的值</span><br><span class="line">    if (location.origin === &apos;http://xxx.develop.com&apos; &amp;&amp; webHost) &#123; // 判断当前的环境以及是否存在webHost</span><br><span class="line">    _baseURL = &apos;http://&apos; + webHost // 将_baseURL重新赋值</span><br><span class="line">  &#125;</span><br><span class="line">  return _baseURL</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>然后使用它：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// request.js</span><br><span class="line">let _baseURL = &apos;http://api.xxx.develop.com&apos;</span><br><span class="line">function setBaseURL () &#123;...&#125;</span><br><span class="line">const service = axios.create(&#123; // 创建 axios 实例</span><br><span class="line">  baseURL: setBaseURL(), // api base_url</span><br><span class="line">  timeout: 120000, // 请求超时时间</span><br><span class="line">  headers: &#123; &apos;Content-Type&apos;: &apos;application/json&apos; &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<p>这样项目在生成<code>axios</code>实例的时候，就会判断你当前的环境(假设你只想要在开发环境上这样做),然后判断浏览器的<code>LocalStorage</code>中有没有需要指定的<code>IP</code>地址，从而返回新的<code>_baseURL</code>。</p>
<p>做好了这层适配之后，前端就可以将项目<code>build</code>之后放到服务器上，后台小哥哥要使用的时候做一些配置就可以了。</p>
<p><strong>注</strong><br>这里的<code>webHost</code>字符串并非为固定写法，你也可以写成<code>apiHost</code>、<code>host</code>等等字段，只要和后台约定好就可以咯。</p>
<h2 id="后台如何使用"><a href="#后台如何使用" class="headerlink" title="后台如何使用"></a>后台如何使用</h2><p>后台小哥哥在使用的时候只需要在浏览器上配置一下就可以了。</p>
<p>假设前端项目放到的是<code>http://xxx.develop.com</code>上</p>
<ol>
<li>打开<code>http://xxx.develop.com</code>，并打开控制台(<code>window</code>快捷键<code>F12</code>, <code>Mac</code>快捷键<code>option＋command＋i</code>);</li>
<li>找到<code>Application</code>下的<code>Local Storage</code>;</li>
<li>展开<code>Local Storage</code>, 找到当前网址的那一项;</li>
<li>在右边添加<code>Key</code>为<code>webHost</code>, <code>Value</code>为后台本地的<code>IP</code>地址(包括端口号)的键值对。</li>
<li>刷新一下页面</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/02/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%92%8C%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%9E%E7%8E%B0%E8%B7%A8%E5%9F%9F%EF%BC%88CORS%EF%BC%89%E5%88%A4%E5%AE%9A%E7%9A%84%E5%8E%9F%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="STAO">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="STAO_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/02/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%92%8C%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%9E%E7%8E%B0%E8%B7%A8%E5%9F%9F%EF%BC%88CORS%EF%BC%89%E5%88%A4%E5%AE%9A%E7%9A%84%E5%8E%9F%E7%90%86/" itemprop="url">浏览器和服务器实现跨域（CORS）判定的原理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-06-02T13:57:54+08:00">
                2020-06-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CODE/" itemprop="url" rel="index">
                    <span itemprop="name">CODE</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>前端对Cross-Origin Resource Sharing 问题(CORS，中文又称’跨域’)应该很熟悉了。众所周知出于安全的考虑，浏览器有个<code>同源策略</code>，对于不同源的站点之间的相互请求会做限制（<strong>跨域限制是浏览器行为，不是服务器行为。</strong>）。不过下午想到了一个略无趣的问题：浏览器和服务器到底是如何判定有没有跨域呢？本文主要分两个部分，一是对这个问题的总结，二是nginx下如何配置服务器允许跨域。</p>
<h2 id="同源策略"><a href="#同源策略" class="headerlink" title="同源策略"></a>同源策略</h2><blockquote>
<p>同源指的是域名（或IP），协议，端口都相同，不同源的客户端脚本(javascript、ActionScript)在没明确授权的情况下，不能读写对方的资源。</p>
</blockquote>
<p>同源的判定：<br>以<code>http://www.example.com/dir/page.html</code>为例，以下表格指出了不同形式的链接是否与其同源：（原因里未申明不同的属性即说明其与例子里的原链接对应的属性相同）</p>
<table>
<thead>
<tr>
<th>链接</th>
<th>结果</th>
<th>原因</th>
</tr>
</thead>
<tbody><tr>
<td>http:// <code>www.example.com</code> /dir/page2.html</td>
<td><code>是</code></td>
<td>同协议同域名同端口</td>
</tr>
<tr>
<td>http:// <code>www.example.com</code> /dir2/other.html</td>
<td><code>是</code></td>
<td>同协议同域名同端口</td>
</tr>
<tr>
<td><a href="http://user:pwd@" target="_blank" rel="noopener">http://user:pwd@</a> <code>www.example.com</code>/dir2/other.html</td>
<td><code>是</code></td>
<td>同协议同域名同端口</td>
</tr>
<tr>
<td><a href="http://www.example.com" target="_blank" rel="noopener">http://www.example.com</a>: <code>81</code>/dir/other.html</td>
<td>否</td>
<td>端口不同</td>
</tr>
<tr>
<td><code>https</code>://<a href="http://www.example.com/dir/other.html" target="_blank" rel="noopener">www.example.com/dir/other.html</a></td>
<td>否</td>
<td>协议不同端口不同</td>
</tr>
<tr>
<td>http:// <code>en.example.com</code>/dir/other.html</td>
<td>否</td>
<td>域名不同</td>
</tr>
<tr>
<td>http:// <code>example.com</code>/dir/other.html</td>
<td>否</td>
<td>域名不同（要求精确匹配）</td>
</tr>
<tr>
<td>http:// <code>v2.www.example.com</code>/dir/other.html</td>
<td>否</td>
<td>域名不同（要求精确匹配）</td>
</tr>
<tr>
<td><a href="http://www.example.com" target="_blank" rel="noopener">http://www.example.com</a>: <code>80</code>/dir/other.html</td>
<td><code>不确定</code></td>
<td>取决于浏览器的实现方式</td>
</tr>
</tbody></table>
<h2 id="是否允许跨域的判定"><a href="#是否允许跨域的判定" class="headerlink" title="是否允许跨域的判定"></a>是否允许跨域的判定</h2><p>前文提到了同源策略的判定，然而同源策略在加强了安全的同时，对开发却是极大的不便利。因此开发者们又发明了很多办法来允许数据的跨域传输（常见的办法有<code>JSONP</code>、<code>CORS</code>)。当域名不同源的时候，由于跨域实现的存在，浏览器不能直接根据域名来判定跨域限制。那么浏览器具体又是如何实现判定的呢？看下面的例子。</p>
<h3 id="环境说明"><a href="#环境说明" class="headerlink" title="环境说明"></a>环境说明</h3><ol>
<li><p>参与实验的前端域名三个有：<code>http://www.zhihu.com</code>、<code>http://segmentfault.com</code>、<br><code>http://localhost</code>。</p>
</li>
<li><p>请求的服务器端地址为<code>http://localhost/city.json</code>,服务器解析引擎使用的<code>nginx</code>,且服务器只配置了允许来自<code>http://segmentfault.com</code>的跨域请求</p>
</li>
<li><p>检测方法：在各个域名下利用chrome浏览器的<code>console</code>界面模拟发送ajax请求，代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var xhr = new XMLHttpRequest();</span><br><span class="line">xhr.open(&apos;GET&apos;, &apos;http://localhost/city.json&apos;,true);</span><br><span class="line">xhr.send();</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="实验过程"><a href="#实验过程" class="headerlink" title="实验过程"></a>实验过程</h3><ol>
<li><p>在<code>http://localhost</code>域名下,<strong>请求成功。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">服务器回应的http文件头如下：</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Server: nginx/1.6.2</span><br><span class="line">Date: Sun, 05 Jul 2015 17:44:06 GMT</span><br><span class="line">Content-Type: application/octet-stream</span><br><span class="line">Content-Length: 2084</span><br><span class="line">Last-Modified: Sat, 18 Apr 2015 06:20:12 GMT</span><br><span class="line">Connection: keep-alive</span><br><span class="line">ETag: &quot;5531f79c-824&quot;</span><br><span class="line">Access-Control-Allow-Credentials: true</span><br><span class="line">Access-Control-Allow-Methods: GET, POST, OPTIONS</span><br><span class="line">Accept-Ranges: bytes</span><br></pre></td></tr></table></figure>
</li>
<li><p>在<code>http://segmentfault.com</code>域名下，<strong>请求成功</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">服务器回应的http文件头如下：</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Server: nginx/1.6.2</span><br><span class="line">Date: Sun, 05 Jul 2015 18:17:27 GMT</span><br><span class="line">Content-Type: application/octet-stream</span><br><span class="line">Content-Length: 2084</span><br><span class="line">Last-Modified: Sat, 18 Apr 2015 06:20:12 GMT</span><br><span class="line">Connection: keep-alive</span><br><span class="line">ETag: &quot;5531f79c-824&quot;</span><br><span class="line">**Access-Control-Allow-origin: http://segmentfault.com**</span><br><span class="line">Access-Control-Allow-Credentials: true</span><br><span class="line">Access-Control-Allow-Methods: GET, POST, OPTIONS</span><br><span class="line">Accept-Ranges: bytes</span><br></pre></td></tr></table></figure>
</li>
<li><p>在<code>http://www.zhihu.com</code>下，<strong>请求失败</strong><br><strong>虽然都是失败，但是返回的HTTP文件头内容会视服务器是否有配置跨域请求而发生变化</strong></p>
</li>
</ol>
<h4 id="服务器允许跨域请求"><a href="#服务器允许跨域请求" class="headerlink" title="服务器允许跨域请求"></a>服务器允许跨域请求</h4><p>(仅允许来自<code>http://segmentfault.com</code>的跨域请求)<br>console.log窗口提示：</p>
<blockquote>
<p>XMLHttpRequest cannot load <a href="http://localhost/city.json" target="_blank" rel="noopener">http://localhost/city.json</a>. The ‘Access-Control-Allow-Origin’ header has a value ‘<a href="http://segmentfault.com/" target="_blank" rel="noopener">http://segmentfault.com</a>‘ that is not equal to the supplied origin. Origin ‘<a href="http://www.zhihu.com/" target="_blank" rel="noopener">http://www.zhihu.com</a>‘ is therefore notallowed access.</p>
</blockquote>
<p>服务器回应的http文件头如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Server: nginx/1.6.2</span><br><span class="line">Date: Sun, 05 Jul 2015 17:59:25 GMT</span><br><span class="line">Content-Type: application/octet-stream</span><br><span class="line">Content-Length: 2084</span><br><span class="line">Last-Modified: Sat, 18 Apr 2015 06:20:12 GMT</span><br><span class="line">Connection: keep-alive</span><br><span class="line">ETag: &quot;5531f79c-824&quot;</span><br><span class="line">Access-Control-Allow-origin: http://segmentfault.com</span><br><span class="line">Access-Control-Allow-Credentials: true</span><br><span class="line">Access-Control-Allow-Methods: GET, POST, OPTIONS</span><br><span class="line">Accept-Ranges: bytes</span><br></pre></td></tr></table></figure>

<h4 id="服务器不允许任何跨域请求"><a href="#服务器不允许任何跨域请求" class="headerlink" title="服务器不允许任何跨域请求"></a>服务器不允许任何跨域请求</h4><p>console.log窗口提示:</p>
<blockquote>
<p>XMLHttpRequest cannot load <a href="http://localhost/city.json" target="_blank" rel="noopener">http://localhost/city.json</a>. No ‘Access-Control-Allow-Origin’ header is present on the requested resource. Origin ‘<a href="http://www.zhihu.com/" target="_blank" rel="noopener">http://www.zhihu.com</a>‘ is therefore not allowed access.</p>
</blockquote>
<p>服务器回应的http文件头如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Server: nginx/1.6.2</span><br><span class="line">Date: Sun, 05 Jul 2015 17:51:29 GMT</span><br><span class="line">Content-Type: application/octet-stream</span><br><span class="line">Content-Length: 2084</span><br><span class="line">Last-Modified: Sat, 18 Apr 2015 06:20:12 GMT</span><br><span class="line">Connection: keep-alive</span><br><span class="line">ETag: &quot;5531f79c-824&quot;</span><br><span class="line">Access-Control-Allow-Credentials: true</span><br><span class="line">Access-Control-Allow-Methods: GET, POST, OPTIONS</span><br><span class="line">Accept-Ranges: bytes</span><br></pre></td></tr></table></figure>

<h3 id="跨域的判定流程"><a href="#跨域的判定流程" class="headerlink" title="跨域的判定流程"></a>跨域的判定流程</h3><p>从<code>zhihu</code>页面的两次浏览器报错以及<code>segmentfault</code>的成功返回值来看，可以很容易得出浏览器和服务器的合作判定步骤如下：</p>
<blockquote>
<ol>
<li>浏览器先根据同源策略对前端页面和后台交互地址做匹配，若同源，则直接发送数据请求；若不同源，则发送跨域请求。（浏览器分两次请求，第一次发送一个OPTIONS请求，只发送请求的头信息，服务端也只返回头信息，如果服务器返回的头信息中包含了<strong>Access-Control-Allow-Origin</strong>,浏览器才会发送真实的请求，所以判断是在预请求和实际请求之间进行的）</li>
<li>服务器解析程序收到浏览器跨域请求后，根据自身配置返回对应文件头。若未配置过任何允许跨域，则文件头里不包含<code>Access-Control-Allow-origin</code>字段，若配置过域名，则返回<code>Access-Control-Allow-origin</code>+ <code>对应配置规则里的域名的方式</code>。</li>
<li>浏览器根据接受到的http文件头里的<code>Access-Control-Allow-origin</code>字段做匹配，若无该字段，说明不允许跨域；若有该字段，则对字段内容和当前域名做比对，如果同源，则说明可以跨域，浏览器发送该请求；若不同源，则说明该域名不可跨域，不发送请求</li>
</ol>
</blockquote>
<p>（但是不能仅仅根据服务器返回的文件头里是否包含<code>Access-Control-Allow-origin</code>来判断其是否允许跨域，因为服务器端配置多域名跨域的时候，也会出现不能跨域的域名返回包里没有<code>Access-Control-Allow-origin</code>字段的情况。下文配置说明里会讲。)</p>
<h2 id="配置服务器实现跨域传输"><a href="#配置服务器实现跨域传输" class="headerlink" title="配置服务器实现跨域传输"></a>配置服务器实现跨域传输</h2><p>前面讲到了同源策略的基本判定，以及浏览器实现跨域判断的方式，那么，如何在服务器端做配置来允许跨域传输呢？下文将以Nginx为例，讲一下三种情况下的配置。</p>
<h3 id="配置项解析"><a href="#配置项解析" class="headerlink" title="配置项解析"></a>配置项解析</h3><p>CORS常用的配置项有以下几个：</p>
<blockquote>
<ul>
<li><strong>Access-Control-Allow-Origin</strong>（必含） – 允许的域名，<strong>只能填通配符或者单域名</strong></li>
</ul>
</blockquote>
<ul>
<li><strong>Access-Control-Allow-Methods</strong>（必含） – 这允许跨域请求的http方法（常见有<code>POST</code>、<code>GET</code>、<code>OPTIONS</code>）</li>
<li><strong>Access-Control-Allow-Headers</strong>（当预请求中包含Access-Control-Request-Headers时必须包含） – 这是对预请求当中Access-Control-Request-Headers的回复，和上面一样是以逗号分隔的列表，可以返回所有支持的头部。</li>
<li><strong>Access-Control-Allow-Credentials</strong>（可选） – 该项标志着请求当中是否包含cookies信息，只有一个可选值：true（必为小写）。如果不包含cookies，请略去该项，而不是填写false。这一项与XmlHttpRequest2对象当中的withCredentials属性应保持一致，即withCredentials为true时该项也为true；withCredentials为false时，省略该项不写。反之则导致请求失败。</li>
<li><strong>Access-Control-Max-Age</strong>（可选） – 以秒为单位的缓存时间。预请求的的发送并非免费午餐，允许时应当尽可能缓存。</li>
</ul>
<h3 id="具体配置举例"><a href="#具体配置举例" class="headerlink" title="具体配置举例"></a>具体配置举例</h3><h4 id="全域名或者单域名允许跨域"><a href="#全域名或者单域名允许跨域" class="headerlink" title="全域名或者单域名允许跨域"></a>全域名或者单域名允许跨域</h4><p>这个最省心<br>打开Nginx的配置文件（默认为<code>nginx.conf</code>）。找到对应域名设置的<code>local</code>配置部分。<br>添加以下内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">add_header &apos;Access-Control-Allow-origin&apos; &apos;http://www.example.com&apos;;</span><br><span class="line">add_header &apos;Access-Control-Allow-Methods&apos; &apos;GET, POST, OPTIONS&apos;;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>添加的域名必须带<code>http://</code>协议头（否则服务器无法区分是http还是https），如果接受所有域名的跨域请求，则可以用<code>*</code>(安全性有问题，不推荐)</p>
</blockquote>
<h4 id="添加多域名跨域配置"><a href="#添加多域名跨域配置" class="headerlink" title="添加多域名跨域配置"></a>添加多域名跨域配置</h4><p>如果允许跨域的域名有多个但出于安全问题又不想配置全域名通配的时候，就可以用到nginx里的<code>if</code>判断了。<br>添加如下内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if ($http_origin = &apos;http://segmentfault.com&apos; ) &#123;  </span><br><span class="line"> add_header &apos;Access-Control-Allow-Origin&apos; &quot;$http_origin&quot;;</span><br><span class="line"> &#125;</span><br><span class="line">if ($http_origin = &apos;http://localhost:4000&apos; ) &#123;  </span><br><span class="line"> add_header &apos;Access-Control-Allow-Origin&apos; &quot;$http_origin&quot;;</span><br><span class="line"> &#125;</span><br><span class="line"> add_header &apos;Access-Control-Allow-Methods&apos; &apos;GET, POST, OPTIONS&apos;;</span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>如果对正则比较熟悉的，可以直接用正则来匹配条件判断，不需要用if这么麻烦的方式。</li>
</ul>
</blockquote>
<ul>
<li>‘Access-Control-Allow-Methods’ 允许多参数，’Access-Control-Allow-origin’不允许多参数，所以只能是条件语句判断要不要加这个。这也是我前面提到的为什么即使HTTP文件头返回值里没有’Access-Control-Allow-origin’,也不能说明它就是不允许跨域的。</li>
<li>nginx配置文件的<code>http</code>配置部分不能用<code>if</code>条件语句，所以多域名的时候必须加在<code>local</code>部分内。另外加在<code>local</code>内的只对对应的服务器域名做跨域请求的配置，加在<code>http</code>里会让跑在该nginx下的所有网站都统一采取这种配置。</li>
<li><code>Access-Control-Allow-Origin</code>也可以改成全小写的形式，不影响结果.(<code>access-control-allow-origin</code>也可以)</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/25/v-charts%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="STAO">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="STAO_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/25/v-charts%E4%BD%BF%E7%94%A8/" itemprop="url">v-charts的使用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-25T15:32:19+08:00">
                2020-05-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CODE/" itemprop="url" rel="index">
                    <span itemprop="name">CODE</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="步骤一"><a href="#步骤一" class="headerlink" title="步骤一"></a>步骤一</h1><blockquote>
<p>安装：<br>npm i v-charts echarts -S</p>
</blockquote>
<h1 id="步骤二"><a href="#步骤二" class="headerlink" title="步骤二"></a>步骤二</h1><p>1.依赖引入：<br>在main.js 中引入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import VCharts from &apos;v-charts&apos;</span><br><span class="line"></span><br><span class="line">Vue.use(VCharts)</span><br></pre></td></tr></table></figure>

<p>2.在组件中引入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import VeLine from &apos;v-charts/lib/line&apos;//折线</span><br><span class="line">import VeHistogram from &apos;v-charts/lib/histogram&apos;//柱状</span><br><span class="line">import VeBar from &apos;v-charts/lib/bar&apos;//横-柱状</span><br><span class="line">import VePie from &apos;v-charts/lib/pie&apos;//圆状</span><br><span class="line">import VeRing from &apos;v-charts/lib/ring&apos;//环状</span><br><span class="line">import VeWaterfall from &apos;v-charts/lib/waterfall&apos;//瀑布</span><br><span class="line">import VeFunnel from &apos;v-charts/lib/funnel&apos;//金字塔</span><br><span class="line">import VeRadar from &apos;v-charts/lib/radar&apos;//雷</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    components: &#123; VeLine,VeHistogram,VeBar,VePie,VeRing,VeWaterfall,VeFunnel,VeRadar&#125;,</span><br><span class="line">......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3.具体使用详见官方文档<br><a href="https://v-charts.js.org/#/line" target="_blank" rel="noopener">文档地址: https://v-charts.js.org/#/line</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/14/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3vue%E4%B8%AD%E7%9A%84slot%E4%B8%8Eslot-scope/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="STAO">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="STAO_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/14/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3vue%E4%B8%AD%E7%9A%84slot%E4%B8%8Eslot-scope/" itemprop="url">深入理解vue中的slot与slot-scope</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-14T17:32:17+08:00">
                2020-05-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CODE/" itemprop="url" rel="index">
                    <span itemprop="name">CODE</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>实际上，插槽的概念很简单，下面分三部分来讲。这三部分也是按照vue说明文档的顺序来写的。</p>
<p><strong>插槽，也就是slot，是组件的一块HTML模板，这块模板显示不显示、以及怎样显示由父组件来决定。</strong> 实际上，一个slot最核心的两个问题在这里就点出来了，是<strong>显示不显示</strong>和<strong>怎样显示</strong>。</p>
<p>由于插槽是一块模板，所以，对于任何一个组件，从模板种类的角度来分，其实都可以分为<strong>非插槽模板</strong>和<strong>插槽模板</strong>两大类。 非插槽模板指的是<strong>html模板</strong>，比如‘div、span、ul、table’这些，非插槽模板的显示与隐藏以及怎样显示由组件自身控制；插槽模板是slot，它是一个空壳子，因为它的显示与隐藏以及最后用什么样的html模板显示由父组件控制。<strong>但是插槽显示的位置却由子组件自身决定，slot写在组件template的什么位置，父组件传过来的模板将来就显示在什么位置</strong>。</p>
<h2 id="单个插槽-默认插槽-匿名插槽"><a href="#单个插槽-默认插槽-匿名插槽" class="headerlink" title="单个插槽 | 默认插槽 | 匿名插槽"></a>单个插槽 | 默认插槽 | 匿名插槽</h2><p>首先是单个插槽，<strong>单个插槽</strong>是vue的官方叫法，但是其实也可以叫它默认插槽，或者与具名插槽相对，我们可以叫它匿名插槽。因为它不用设置name属性。</p>
<p>单个插槽可以放置在组件的任意位置，但是就像它的名字一样，一个组件中只能有一个该类插槽。相对应的，具名插槽就可以有很多个，只要名字（name属性）不同就可以了。</p>
<p>下面通过一个例子来展示。</p>
<p>父组件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class=&quot;father&quot;&gt;</span><br><span class="line">        &lt;h3&gt;这里是父组件&lt;/h3&gt;</span><br><span class="line">        &lt;child&gt;</span><br><span class="line">            &lt;div class=&quot;tmpl&quot;&gt;</span><br><span class="line">              &lt;span&gt;菜单1&lt;/span&gt;</span><br><span class="line">              &lt;span&gt;菜单2&lt;/span&gt;</span><br><span class="line">              &lt;span&gt;菜单3&lt;/span&gt;</span><br><span class="line">              &lt;span&gt;菜单4&lt;/span&gt;</span><br><span class="line">              &lt;span&gt;菜单5&lt;/span&gt;</span><br><span class="line">              &lt;span&gt;菜单6&lt;/span&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/child&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>子组件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class=&quot;child&quot;&gt;</span><br><span class="line">        &lt;h3&gt;这里是子组件&lt;/h3&gt;</span><br><span class="line">        &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>在这个例子里，因为父组件在里面写了html模板，那么子组件的<strong>匿名插槽</strong>这块模板就是下面这样。也就是说，子组件的匿名插槽被使用了，是被下面这块模板使用了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;tmpl&quot;&gt;</span><br><span class="line">  &lt;span&gt;菜单1&lt;/span&gt;</span><br><span class="line">  &lt;span&gt;菜单2&lt;/span&gt;</span><br><span class="line">  &lt;span&gt;菜单3&lt;/span&gt;</span><br><span class="line">  &lt;span&gt;菜单4&lt;/span&gt;</span><br><span class="line">  &lt;span&gt;菜单5&lt;/span&gt;</span><br><span class="line">  &lt;span&gt;菜单6&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>最终的渲染结果如图所示：</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/1/25/1612dc51f5f9f1c4?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">注：所有demo都加了样式，以方便观察。其中，父组件以灰色背景填充，子组件都以浅蓝色填充。</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="具名插槽"><a href="#具名插槽" class="headerlink" title="具名插槽"></a>具名插槽</h2><p>匿名插槽没有name属性，所以是匿名插槽，那么，插槽加了name属性，就变成了具名插槽。具名插槽可以在一个组件中出现N次，出现在不同的位置。下面的例子，就是一个有两个<strong>具名插槽</strong>和<strong>单个插槽</strong>的组件，这三个插槽被父组件用同一套css样式显示了出来，不同的是内容上略有区别。</p>
<p>父组件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;father&quot;&gt;</span><br><span class="line">    &lt;h3&gt;这里是父组件&lt;/h3&gt;</span><br><span class="line">    &lt;child&gt;</span><br><span class="line">      &lt;div class=&quot;tmpl&quot; slot=&quot;up&quot;&gt;</span><br><span class="line">        &lt;span&gt;菜单1&lt;/span&gt;</span><br><span class="line">        &lt;span&gt;菜单2&lt;/span&gt;</span><br><span class="line">        &lt;span&gt;菜单3&lt;/span&gt;</span><br><span class="line">        &lt;span&gt;菜单4&lt;/span&gt;</span><br><span class="line">        &lt;span&gt;菜单5&lt;/span&gt;</span><br><span class="line">        &lt;span&gt;菜单6&lt;/span&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;tmpl&quot; slot=&quot;down&quot;&gt;</span><br><span class="line">        &lt;span&gt;菜单-1&lt;/span&gt;</span><br><span class="line">        &lt;span&gt;菜单-2&lt;/span&gt;</span><br><span class="line">        &lt;span&gt;菜单-3&lt;/span&gt;</span><br><span class="line">        &lt;span&gt;菜单-4&lt;/span&gt;</span><br><span class="line">        &lt;span&gt;菜单-5&lt;/span&gt;</span><br><span class="line">        &lt;span&gt;菜单-6&lt;/span&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;tmpl&quot;&gt;</span><br><span class="line">        &lt;span&gt;菜单-&gt;1&lt;/span&gt;</span><br><span class="line">        &lt;span&gt;菜单-&gt;2&lt;/span&gt;</span><br><span class="line">        &lt;span&gt;菜单-&gt;3&lt;/span&gt;</span><br><span class="line">        &lt;span&gt;菜单-&gt;4&lt;/span&gt;</span><br><span class="line">        &lt;span&gt;菜单-&gt;5&lt;/span&gt;</span><br><span class="line">        &lt;span&gt;菜单-&gt;6&lt;/span&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/child&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>子组件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;child&quot;&gt;</span><br><span class="line">    // 具名插槽</span><br><span class="line">    &lt;slot name=&quot;up&quot;&gt;&lt;/slot&gt;</span><br><span class="line">    &lt;h3&gt;这里是子组件&lt;/h3&gt;</span><br><span class="line">    // 具名插槽</span><br><span class="line">    &lt;slot name=&quot;down&quot;&gt;&lt;/slot&gt;</span><br><span class="line">    // 匿名插槽</span><br><span class="line">    &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>显示结果如图：</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/1/25/1612dc51f60baa0a?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p>
<p>可以看到，父组件通过html模板上的slot属性关联具名插槽。没有slot属性的html模板默认关联匿名插槽。</p>
<h2 id="作用域插槽-带数据的插槽"><a href="#作用域插槽-带数据的插槽" class="headerlink" title="作用域插槽 | 带数据的插槽"></a>作用域插槽 | 带数据的插槽</h2><p>最后，就是我们的作用域插槽。这个稍微难理解一点。官方叫它作用域插槽，实际上，对比前面两种插槽，我们可以叫它带数据的插槽。什么意思呢，就是前面两种，都是在组件的template里面写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">匿名插槽</span><br><span class="line">&lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">具名插槽</span><br><span class="line">&lt;slot name=&quot;up&quot;&gt;&lt;/slot&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>但是<strong>作用域插槽要求，在slot上面绑定数据</strong>。也就是你得写成大概下面这个样子。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;slot name=&quot;up&quot; :data=&quot;data&quot;&gt;&lt;/slot&gt;</span><br><span class="line"> export default &#123;</span><br><span class="line">    data: function()&#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        data: [&apos;zhangsan&apos;,&apos;lisi&apos;,&apos;wanwu&apos;,&apos;zhaoliu&apos;,&apos;tianqi&apos;,&apos;xiaoba&apos;]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>我们前面说了，插槽最后显示不显示是看父组件有没有在child下面写模板，像下面那样。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;child&gt;</span><br><span class="line">   html模板</span><br><span class="line">&lt;/child&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>写了，插槽就总得在浏览器上显示点东西，东西就是html该有的模样，没写，插槽就是空壳子，啥都没有。 OK，我们说有html模板的情况，就是父组件会往子组件插模板的情况，那到底插一套什么样的样式呢，这由父组件的html+css共同决定，但是这套样式里面的内容呢？</p>
<p>正因为作用域插槽绑定了一套数据，父组件可以拿来用。于是，情况就变成了这样：样式父组件说了算，但内容可以显示子组件插槽绑定的。</p>
<p>我们再来对比，作用域插槽跟单个插槽和具名插槽的区别，因为单个插槽和具名插槽不绑定数据，所以父组件提供的模板一般要既包括样式又包括内容，上面的例子中，你看到的文字，“菜单1”，“菜单2”都是父组件自己提供的内容；而作用域插槽，父组件只需要提供一套样式（在确实用作用域插槽绑定的数据的前提下）。</p>
<p>下面的例子，你就能看到，父组件提供了三种样式(分别是flex、ul、直接显示)，都没有提供数据，数据使用的都是子组件插槽自己绑定的那个数组（一堆人名的那个数组）。</p>
<p>父组件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;father&quot;&gt;</span><br><span class="line">    &lt;h3&gt;这里是父组件&lt;/h3&gt;</span><br><span class="line">    &lt;!--第一次使用：用flex展示数据--&gt;</span><br><span class="line">    &lt;child&gt;</span><br><span class="line">      &lt;template slot-scope=&quot;user&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;tmpl&quot;&gt;</span><br><span class="line">          &lt;span v-for=&quot;item in user.data&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/span&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/child&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--第二次使用：用列表展示数据--&gt;</span><br><span class="line">    &lt;child&gt;</span><br><span class="line">      &lt;template slot-scope=&quot;user&quot;&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">          &lt;li v-for=&quot;item in user.data&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/child&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--第三次使用：直接显示数据--&gt;</span><br><span class="line">    &lt;child&gt;</span><br><span class="line">      &lt;template slot-scope=&quot;user&quot;&gt;</span><br><span class="line">       &#123;&#123;user.data&#125;&#125;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/child&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--第四次使用：不使用其提供的数据, 作用域插槽退变成匿名插槽--&gt;</span><br><span class="line">    &lt;child&gt;</span><br><span class="line">      我就是模板</span><br><span class="line">    &lt;/child&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>子组件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;child&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;h3&gt;这里是子组件&lt;/h3&gt;</span><br><span class="line">    // 作用域插槽</span><br><span class="line">    &lt;slot  :data=&quot;data&quot;&gt;&lt;/slot&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"> export default &#123;</span><br><span class="line">    data: function()&#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        data: [&apos;zhangsan&apos;,&apos;lisi&apos;,&apos;wanwu&apos;,&apos;zhaoliu&apos;,&apos;tianqi&apos;,&apos;xiaoba&apos;]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>结果如图所示：</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/1/25/1612dc51f6344ace?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p>
<h2 id="slot在element-ui中的应用"><a href="#slot在element-ui中的应用" class="headerlink" title="slot在element-ui中的应用"></a>slot在element-ui中的应用</h2><p>template（模版） 在这里属于一个固定用法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;template slot-scope=&quot;scope&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>我们主要说一下这个scope是个什么东西，按照element上的提示：</p>
<p>通过 Scoped slot 可以获取到 row, column, $index 和 store（table 内部的状态管理）的数据</p>
<p>我们可以理解为：tableData是给到table的记录集，scope是table内部基于tableData生成出来的。</p>
<p>我们传进去的tableData，在table内部生成了类似于Excel的scope，因此，通过scope.row.属性名，我们就可以读取到每一行中的属性值。</p>
<p>为了理解的更加透彻，我将tableData和scope.row分别打印出来，如下：</p>
<p><img src="https://i.loli.net/2020/05/14/Wx8KceFpYVy7LCP.png" alt="tableData.png"></p>
<p><img src="https://i.loli.net/2020/05/14/gRL8hk7tQNqBMUV.png" alt="scope.png"></p>
<p><img src="https://i.loli.net/2020/05/14/DLWJNI5ydf1kOPs.png" alt="result.png"></p>
<p>我们可以看出scope.row的值就是相当于整个tableData值当中的一行，选哪行就是哪行的数据（不管你在页面中展示tableData数据中的几个属性，都不会影响scope.row的取值，它始终是选中的tableData数据那一行全部属性的键值对）</p>
<h2 id="v-slot"><a href="#v-slot" class="headerlink" title="v-slot"></a>v-slot</h2><p>vue.js官方文档：在 2.6.0 中，我们为具名插槽和作用域插槽引入了一个新的统一的语法 (即 v-slot 指令)。它取代了 slot 和 slot-scope 这两个目前已被废弃但未被移除且仍在文档中的 attribute。</p>
<p><strong>使用</strong></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 根组件</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;mo&gt;</span><br><span class="line">            &lt;template v-slot:header=<span class="string">"slotProps"</span>&gt;</span><br><span class="line">                &lt;h1&gt;&#123;&#123;slotProps.header + <span class="string">' '</span> + msg&#125;&#125;&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">                </span></span><br><span class="line"><span class="regexp">            &lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line">            &lt;p&gt;A paragraph <span class="keyword">for</span> the main content.&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">            &lt;p&gt;And another one.&lt;/</span>p&gt;</span><br><span class="line"></span><br><span class="line">            &lt;template v-slot:footer&gt;</span><br><span class="line">                &lt;p&gt;Here<span class="string">'s some contact info&lt;/p&gt;</span></span><br><span class="line"><span class="string">            &lt;/template&gt;</span></span><br><span class="line"><span class="string">        &lt;/mo&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;/template&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;script&gt;</span></span><br><span class="line"><span class="string">    import mo from '</span>./<span class="built_in">module</span>.vue<span class="string">'</span></span><br><span class="line"><span class="string">    export default &#123;</span></span><br><span class="line"><span class="string">        components: &#123;</span></span><br><span class="line"><span class="string">            mo</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        data() &#123;</span></span><br><span class="line"><span class="string">            return &#123;</span></span><br><span class="line"><span class="string">                msg: '</span>这是根组件的消息<span class="string">'</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">// 子组件</span></span><br><span class="line"><span class="string">&lt;template&gt;</span></span><br><span class="line"><span class="string">    &lt;div&gt;</span></span><br><span class="line"><span class="string">        --header start--</span></span><br><span class="line"><span class="string">        &lt;header&gt;</span></span><br><span class="line"><span class="string">            &lt;slot name="header" :header="header"&gt;&lt;/slot&gt;</span></span><br><span class="line"><span class="string">        &lt;/header&gt;</span></span><br><span class="line"><span class="string">        --header over--</span></span><br><span class="line"><span class="string">        &lt;div&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">        --default start--</span></span><br><span class="line"><span class="string">        &lt;slot&gt;&lt;/slot&gt;</span></span><br><span class="line"><span class="string">        --default over--</span></span><br><span class="line"><span class="string">        &lt;div&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">        --footer start--</span></span><br><span class="line"><span class="string">        &lt;footer&gt;</span></span><br><span class="line"><span class="string">            &lt;slot name="footer"&gt;&lt;/slot&gt;</span></span><br><span class="line"><span class="string">        &lt;/footer&gt;</span></span><br><span class="line"><span class="string">        --dooter over--</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;/template&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;script&gt;</span></span><br><span class="line"><span class="string">    export default &#123;</span></span><br><span class="line"><span class="string">        data() &#123;</span></span><br><span class="line"><span class="string">            return &#123;</span></span><br><span class="line"><span class="string">                header: '</span>来自子组件的头部消息<span class="string">'</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;style scoped&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;/style&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https:////upload-images.jianshu.io/upload_images/3378249-f4fe6925c63599e0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
<p>image.png</p>
<ol>
<li>组件中可以使用template标签，加v-slot指令制定具名插槽，当没有指定插槽name时，默认出口会带有隐含的名字“default”。</li>
<li>根组件可以利用v-slot:header=”slotProps”接受组件中的消息，组件中只需要在<slot name="header" :header="header"></slot>就可以了</li>
<li>如果被提供的内容只有一个默认插槽时，组件的标签可以直接被当做插槽的模板来使用<mo v-slot="slotProps"></li>
<li>动态参数也可是使用到插槽当中<mo v-slot=[dynamicSlotName]></li>
<li>v-slot的缩写是#，但是如果使用#的话，必须始终使用具插槽来代替<br>&lt;mo #default=”slotProps”&gt;</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/08/%E6%80%8E%E6%A0%B7%E4%B8%BA%E4%BD%A0%E7%9A%84vue%E5%8D%95%E9%A1%B5%E5%BA%94%E7%94%A8%E5%A2%9E%E9%80%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="STAO">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="STAO_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/08/%E6%80%8E%E6%A0%B7%E4%B8%BA%E4%BD%A0%E7%9A%84vue%E5%8D%95%E9%A1%B5%E5%BA%94%E7%94%A8%E5%A2%9E%E9%80%9F/" itemprop="url">怎样为你的vue单页应用增速</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-08T10:10:08+08:00">
                2020-05-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CODE/" itemprop="url" rel="index">
                    <span itemprop="name">CODE</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>转载自公众号：前端先锋</p>
<p>我有一个项目用了 Vue.js 来构建单页应用程序。随着上线日期的临近，性能优化的工作变得越来越重要。在本文中，我收集了有关在加载时间和渲染性能方面提高 Vue.js 应用性能的所有知识。</p>
<p>使用 Vue.js，你可以快速构建单页应用。Webpack 会为你将所有内容捆绑到文件（HTML、JavaScript、CSS）中，最后可以用 nginx 来提供。至少，这是我们的设置。但是 Webpack 会警告你某些资源太大。</p>
<p>需要注意的是，一旦用户访问 SPA，这三个文件将会被加载，并且只有在加载完毕之后才会渲染页面。但是最初加载的页面一般不需要太多文件内容，并且不应拖慢用户访问我们的网站的速度。</p>
<p>以下介绍了有关如何缓解此类问题的几种方法，以及在响应性和性能方面进一步改进 Vue.js 应用的其他方法。</p>
<h2 id="功能组件"><a href="#功能组件" class="headerlink" title="功能组件"></a>功能组件</h2><p>功能组件是不包含任何状态和实例的组件。将无状态 Vue 组件转换为功能组件可以大大提高渲染性能。</p>
<p>只需在顶层 <code>template</code> 标记中添加 <code>functional</code> 关键字即可：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;template functional&gt;  &lt;div&gt;...&lt;/div&gt; &lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>要像以前一样访问 prop 和数据，你必须进行一些小的调整。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> &lt;template functional&gt;  </span><br><span class="line">   &lt;div&gt;&#123;&#123; props.someProp &#125;&#125;&lt;/div&gt; </span><br><span class="line"> &lt;/template&gt; </span><br><span class="line"> &lt;script&gt; </span><br><span class="line">   export default &#123;  </span><br><span class="line">     props: &#123;    </span><br><span class="line">       someProp: String  </span><br><span class="line">     &#125; </span><br><span class="line">   &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>如果你使用 i18n 进行国际化，则必须在 parent 之前加上 <code>$t</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; parent.$t(&apos;app.not-found.message&apos;) &#125;&#125;</span><br></pre></td></tr></table></figure>

<p>使用功能组件，我们无权使用方法或计算的 prop。但是，我们仍然可以使用 <code>$options</code> 访问方法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> &lt;template functional&gt;  </span><br><span class="line">   &lt;div&gt;</span><br><span class="line">     &#123;&#123; $options.username(props.user) &#125;&#125;</span><br><span class="line">   &lt;/div&gt; </span><br><span class="line"> &lt;/template&gt; </span><br><span class="line"> &lt;script&gt; </span><br><span class="line">   export default &#123;  </span><br><span class="line">     props: &#123;    </span><br><span class="line">       user: User,  </span><br><span class="line">    &#125;,   </span><br><span class="line">    username(user: User): string &#123;    </span><br><span class="line">        return user.name;  </span><br><span class="line">   &#125; </span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="延迟加载组件"><a href="#延迟加载组件" class="headerlink" title="延迟加载组件"></a>延迟加载组件</h2><p>延迟加载组件可以节省大量的初始下载时间。调用 <code>import()</code> 函数时，将会下载所有延迟加载的资源。对于 Vue 组件，仅在请求渲染时才发生。对话框是注定会这样的。通常仅在用户交互后才显示它们。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> &lt;template&gt; </span><br><span class="line">   &lt;div&gt;     </span><br><span class="line">     ...    </span><br><span class="line">     &lt;app-modal-dialog v-if=&quot;showDialog&quot; /&gt;  </span><br><span class="line">   &lt;/div&gt; </span><br><span class="line"> &lt;/template&gt; </span><br><span class="line"> &lt;script&gt; </span><br><span class="line">   export default &#123;  </span><br><span class="line">     components: &#123;    </span><br><span class="line">      ModalDialog: () =&gt; import(&apos;./ModalDialog.vue&apos;)  </span><br><span class="line">    &#125; </span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>Webpack 将为 ModalDialog 组件创建一个单独的块，该块不会在页面加载时立即下载，而是仅在需要时才下载。</p>
<p>注意不要延迟加载应自动显示的组件。例如以下内容（无提示）将无法加载模式对话框。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mounted() &#123;</span><br><span class="line"> this.$bvModal.show(&apos;password-check&apos;); </span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>原因是已安装的 hook 是在延迟加载模态组件之前进行评估的。</p>
<h2 id="延迟加载路由"><a href="#延迟加载路由" class="headerlink" title="延迟加载路由"></a>延迟加载路由</h2><p>构建 SPA 时，JavaScript 捆绑包可能会变得很大，从而增加页面加载时间。如果我们可以将每个路由的组成部分拆分为一个单独的块，然后仅在访问路由时才加载它们，则效率会更高。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import ProjectList from &apos;@/components/ProjectList.vue&apos;; </span><br><span class="line">export const routes = [  </span><br><span class="line"> &#123;    </span><br><span class="line">    path: &apos;/projects&apos;,    </span><br><span class="line">    name: &apos;projects&apos;,    </span><br><span class="line">    component: ProjectList,  </span><br><span class="line">  &#125;, </span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>定义一个异步组件非常容易，该组件将由 Webpack 自动进行代码拆分。只需更改导入语句：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1const ProjectList = () =&gt; import(&apos;@/components/ProjectList.vue&apos;);</span><br></pre></td></tr></table></figure>

<p>除此之外，无需更改路由配置。通过以下方式在生产模式下构建你的应用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;build&quot;: &quot;vue-cli-service build --mode production&quot;</span><br></pre></td></tr></table></figure>

<p>并确认会生成很多块</p>
<h4 id="Vue-和-Webpack-中的代码拆分"><a href="#Vue-和-Webpack-中的代码拆分" class="headerlink" title="Vue 和 Webpack 中的代码拆分"></a>Vue 和 Webpack 中的代码拆分</h4><p>你还可以通过在浏览器中打开开发者控制台来验证此功能是否正常。在 <em>Network</em> 标签中，一旦你访问新路由，就会异步加载多个 JavaScript 文件。在开发模式下，每个块都将被赋予一个自动递增的数字。在生产模式下，将使用自动计算的哈希值代替。</p>
<h4 id="延迟加载的块和预取缓存"><a href="#延迟加载的块和预取缓存" class="headerlink" title="延迟加载的块和预取缓存"></a>延迟加载的块和预取缓存</h4><p>Vue 有一个很酷的功能就是 Vue 自动添加 Webpack 的魔术注释 (<a href="https://webpack.js.org/api/module-methods/#magic-comments)，以便进一步自动预取其他块（请参阅预取缓存一节）" target="_blank" rel="noopener">https://webpack.js.org/api/module-methods/#magic-comments)，以便进一步自动预取其他块（请参阅预取缓存一节）</a> 。但是，预取仅在浏览器完成初始加载并变为空闲之后才开始。</p>
<h3 id="使对象列表不可变"><a href="#使对象列表不可变" class="headerlink" title="使对象列表不可变"></a>使对象列表不可变</h3><p>通常，我们将从后端获取对象列表，例如用户、项目、文章等。默认情况下，Vue 使数组中每个对象的每个第一级属性都具有响应性。对于大量对象而言，这代价可能会很大。有时我们只想显示对象时就不需要去修改它们。</p>
<p>所以在这种情况下，如果我们阻止 Vue 使列表具有响应性，那么就可以获得一些性能。我们可以通过使用列表中的 <code>Object.freeze</code> 来做到这一点，例如使其一直不变。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">export async function get(url: string): Promise&lt;User[]&gt; &#123;   </span><br><span class="line">  const response = await Object.freeze(axios.get&lt;User[]&gt;(url));   </span><br><span class="line">  return response.data; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="评估运行时性能"><a href="#评估运行时性能" class="headerlink" title="评估运行时性能"></a>评估运行时性能</h2><p>我们已经讨论了许多改进 Vue SPA 的方法，但是不知道我们实际获得了多少性能。可以通过使用浏览器中开发者工具的 <em>Performance</em> 标签来实现。</p>
<p>为了获得准确的数据，我们必须在 Vue 应用中<strong>激活性能模式</strong>。让我们在 main.ts 文件中用开发模式激活它</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.config.performance = process.env.NODE_ENV !== &quot;production&quot;;</span><br></pre></td></tr></table></figure>

<p>这将激活 Vue 内部使用的 User Timing API (<a href="https://developer.mozilla.org/en-US/docs/Web/API/User_Timing_API。" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/API/User_Timing_API。</a></p>
<p>打开浏览器，然后按 F12 键打开开发者控制台。切换到 <em>Performance</em> 选项卡，然后单击 <em>Start Profiling</em>。在 Chrome 中，“ <em>Timings</em>” 行显示重要标记，例如 <em>“First Contentful Paint</em>” 和 “<em>First Meanfulful Paint</em>” 时间。你应该尝试减少它们，以便你的用户可以尽快使用该网站。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>在本文中，我们了解了如何对路由和组件使用延迟加载以将 SPA 分成多个块，功能组件如何提高性能以及如何衡量这些改进。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/07/for%20in%EF%BC%8CObject.keys%EF%BC%8Cfor%20of%20%E7%9A%84%E5%8C%BA%E5%88%AB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="STAO">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="STAO_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/07/for%20in%EF%BC%8CObject.keys%EF%BC%8Cfor%20of%20%E7%9A%84%E5%8C%BA%E5%88%AB/" itemprop="url">for in、Object.keys、for of的区别</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-07T16:53:46+08:00">
                2020-05-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CODE/" itemprop="url" rel="index">
                    <span itemprop="name">CODE</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1、for-in"><a href="#1、for-in" class="headerlink" title="1、for in"></a>1、for in</h3><ul>
<li>遍历对象及其原型链上可枚举的属性；</li>
<li>如果用于遍历数组，处理遍历其元素外，还会遍历开发者对数组对象自定义的可枚举属性及其原型链上的可枚举属性；</li>
<li>遍历对象返回的属性名和遍历数组返回的索引都是 string 类型；</li>
<li>某些情况下，可能按随机顺序遍历数组元素；</li>
</ul>
<p>举个栗子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype.getLength = function() &#123;</span><br><span class="line">    return this.length;</span><br><span class="line">&#125;;</span><br><span class="line">var arr = [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;];</span><br><span class="line">arr.name = &apos;June&apos;;</span><br><span class="line">Object.defineProperty(arr, &apos;age&apos;, &#123;</span><br><span class="line">    enumerable: true,</span><br><span class="line">    value: 17,</span><br><span class="line">    writable: true,</span><br><span class="line">    configurable: true</span><br><span class="line">&#125;);</span><br><span class="line">for(var i in arr) &#123;</span><br><span class="line">    console.log(i); // 0,1,2,name,age,getLength</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p><strong>综上考虑，不推荐在数组中使用 for in 遍历</strong></p>
<h3 id="2、Object-keys"><a href="#2、Object-keys" class="headerlink" title="2、Object.keys"></a>2、Object.keys</h3><ul>
<li>返回对象自身可枚举属性组成的数组</li>
<li>不会遍历对象原型链上的属性以及 Symbol 属性</li>
<li>对数组的遍历顺序和 for in 一致</li>
</ul>
<p>再来个栗子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">function Person() &#123;</span><br><span class="line">    this.name = &apos;June&apos;;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.getName = function() &#123;</span><br><span class="line">    return this.name;</span><br><span class="line">&#125;</span><br><span class="line">var person = new Person();</span><br><span class="line">Object.defineProperty(person, &apos;age&apos;, &#123;</span><br><span class="line">    enumerable: true,</span><br><span class="line">    value: 17,</span><br><span class="line">    writable: true,</span><br><span class="line">    configurable: true</span><br><span class="line">&#125;);</span><br><span class="line">console.log(Object.keys(person));   // [&apos;name&apos;, &apos;age&apos;]</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="3、for-of"><a href="#3、for-of" class="headerlink" title="3、for of"></a>3、for of</h3><ul>
<li>es6 中添加的循环遍历语法；</li>
<li>支持遍历数组，类数组对象（DOM NodeList），字符串，Map 对象，Set 对象；</li>
<li>不支持遍历普通对象；</li>
<li>遍历后输出的结果为数组元素的值；</li>
<li>可搭配实例方法 entries()，同时输出数组的内容和索引；</li>
</ul>
<p>多举几个栗子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">// 1. 不会遍历到对象属性及其原型属性</span><br><span class="line">Array.prototype.getLength = function() &#123;</span><br><span class="line">    return this.length;</span><br><span class="line">&#125;;</span><br><span class="line">var arr = [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;];</span><br><span class="line">arr.name = &apos;June&apos;;</span><br><span class="line">Object.defineProperty(arr, &apos;age&apos;, &#123;</span><br><span class="line">    enumerable: true,</span><br><span class="line">    value: 17,</span><br><span class="line">    writable: true,</span><br><span class="line">    configurable: true</span><br><span class="line">&#125;);</span><br><span class="line">for(let i of arr) &#123;</span><br><span class="line">    console.log(i); // a,b,c</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 2. 如果要遍历对象，可与 Object.keys 配合</span><br><span class="line">var person = &#123;</span><br><span class="line">    name: &apos;June&apos;,</span><br><span class="line">    age: 17,</span><br><span class="line">    city: &apos;guangzhou&apos;</span><br><span class="line">&#125;</span><br><span class="line">for(var key of Object.keys(person)) &#123;</span><br><span class="line">    console.log(person[key]); // June, 17, guangzhou</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 3. 配合 entries 输出数组索引和值/对象的键值</span><br><span class="line">var arr = [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;];</span><br><span class="line">for(let [index, value] of Object.entries(arr)) &#123;</span><br><span class="line">    console.log(index, &apos;:&apos;, value);</span><br><span class="line">    // 0:a, 1:b, 2:c</span><br><span class="line">&#125;</span><br><span class="line">var obj = &#123;name: &apos;June&apos;, age: 17, city: &apos;guangzhou&apos;&#125;;</span><br><span class="line">for(let [key, value] of Object.entries(obj)) &#123;</span><br><span class="line">    console.log(key, &apos;:&apos;, value);</span><br><span class="line">    // name:June,age:17,city:guangzhou</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p><strong>注</strong> Object.entries(obj)： 如果参数的数据结构具有键和值，则返回一个二元数组，数组的每个元素为参数的[key,value]数组； 此方法签名如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Object.entries(value: any) : Array&lt;[string: any]&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>栗子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// Symbol 属性会被忽略</span><br><span class="line">Object.entries(&#123; [Symbol()]: 123, name: &apos;June&apos;, age: 17&#125;);</span><br><span class="line">// [[&apos;name&apos;,&apos;June&apos;], [&apos;age&apos;, 17]]</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/07/JS%E5%B8%B8%E7%94%A8%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="STAO">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="STAO_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/07/JS%E5%B8%B8%E7%94%A8%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%96%B9%E6%B3%95/" itemprop="url">JS常用字符串方法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-07T16:44:18+08:00">
                2020-05-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CODE/" itemprop="url" rel="index">
                    <span itemprop="name">CODE</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-charAt-x"><a href="#1-charAt-x" class="headerlink" title="1. charAt(x)"></a>1. charAt(x)</h2><p><code>charAt(x)</code>返回字符串中<code>x</code>位置的字符，下标从 <code>0</code> 开始。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//charAt(x)</span><br><span class="line">var myString = &apos;jQuery FTW!!!&apos;;</span><br><span class="line">console.log(myString.charAt(7));</span><br><span class="line">//output: F</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="2-charCodeAt-x"><a href="#2-charCodeAt-x" class="headerlink" title="2.charCodeAt(x)"></a>2.charCodeAt(x)</h2><p><code>charCodeAt(x)</code>返回字符串中<code>x</code>位置处字符的<code>unicode</code>值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//charCodeAt(position)</span><br><span class="line">var message=&quot;jquery4u&quot;</span><br><span class="line">//alert &quot;113&quot;</span><br><span class="line">alert(message.charCodeAt(1)</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="3-concat-v1-v2"><a href="#3-concat-v1-v2" class="headerlink" title="3.concat(v1,v2..)"></a>3.concat(v1,v2..)</h2><p><code>concat()</code> 方法用于连接两个或多个字符串，此方法不改变现有的字符串，返回拼接后的新的字符串。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//concat(v1, v2,..)</span><br><span class="line">var message=&quot;Sam&quot;</span><br><span class="line">var final=message.concat(&quot; is a&quot;,&quot; hopeless romantic.&quot;)</span><br><span class="line">//alerts &quot;Sam is a hopeless romantic.&quot;</span><br><span class="line">alert(final)</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="4-fromCharcode-c1-c2"><a href="#4-fromCharcode-c1-c2" class="headerlink" title="4.fromCharcode(c1,c2)"></a>4.fromCharcode(c1,c2)</h2><p><code>fromCharcode(c1,c2)</code>转换一组<code>Unicode</code>值转换为字符。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//fromCharCode(c1, c2,...)</span><br><span class="line">console.log(String.fromCharCode(97,98,99,120,121,122))</span><br><span class="line">//output: abcxyz</span><br><span class="line">console.log(String.fromCharCode(72,69,76,76,79))</span><br><span class="line">//output: HELLO</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="5-indexOf-substr-start"><a href="#5-indexOf-substr-start" class="headerlink" title="5.indexOf(substr, [start])"></a>5.indexOf(substr, [start])</h2><p><code>indexOf</code>方法搜索并(如果找到)返回字符串中搜索到的字符或子字符串的索引。如果没有找到，则返回<code>-1</code>。<code>Start</code>是一个可选参数，指定字符串中开始搜索的位置，默认值为<code>0</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//indexOf(char/substring)</span><br><span class="line">var sentence=&quot;Hi, my name is Sam!&quot;</span><br><span class="line">if (sentence.indexOf(&quot;Sam&quot;)!=-1)</span><br><span class="line">alert(&quot;Sam is in there!&quot;)</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="6-lastIndexOf-substr-start"><a href="#6-lastIndexOf-substr-start" class="headerlink" title="6.lastIndexOf(substr, [start])"></a>6.lastIndexOf(substr, [start])</h2><p><code>lastIndexOf()</code> 方法返回指定文本在字符串中最后一次出现的索引, 如果未找到，则返回<code>-1</code>。 “<code>Start</code>”是一个可选参数，指定字符串中开始搜索的位置, 默认值为<code>string.length-1</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//lastIndexOf(substr, [start])</span><br><span class="line">var myString = &apos;javascript rox&apos;;</span><br><span class="line">console.log(myString.lastIndexOf(&apos;r&apos;));</span><br><span class="line">//output: 11</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="7-match-regexp"><a href="#7-match-regexp" class="headerlink" title="7.match(regexp)"></a>7.match(regexp)</h2><p>根据正则表达式在字符串中搜索匹配项。如果没有找到匹配项，则返回一个信息数组或<code>null</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//match(regexp) //select integers only</span><br><span class="line">var intRegex = /[0-9 -()+]+$/;  </span><br><span class="line"> </span><br><span class="line">var myNumber = &apos;999&apos;;</span><br><span class="line">var myInt = myNumber.match(intRegex);</span><br><span class="line">console.log(isInt);</span><br><span class="line">//output: 999</span><br><span class="line"> </span><br><span class="line">var myString = &apos;999 JS Coders&apos;;</span><br><span class="line">var myInt = myString.match(intRegex);</span><br><span class="line">console.log(isInt);</span><br><span class="line">//output: null</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="8-replace-regexp-substr-replacetext"><a href="#8-replace-regexp-substr-replacetext" class="headerlink" title="8.replace(regexp/substr, replacetext)"></a>8.replace(regexp/substr, replacetext)</h2><p><code>replace()</code> 方法用于在字符串中用一些字符替换另一些字符，或替换一个与正则表达式匹配的子串。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//replace(substr, replacetext)</span><br><span class="line">var myString = &apos;999 JavaScript Coders&apos;;</span><br><span class="line">console.log(myString.replace(/JavaScript/i, &quot;jQuery&quot;));</span><br><span class="line">//output: 999 jQuery Coders</span><br><span class="line"> </span><br><span class="line">//replace(regexp, replacetext)</span><br><span class="line">var myString = &apos;999 JavaScript Coders&apos;;</span><br><span class="line">console.log(myString.replace(new RegExp( &quot;999&quot;, &quot;gi&quot; ), &quot;The&quot;));</span><br><span class="line">//output: The JavaScript Coders</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="9-search-regexp"><a href="#9-search-regexp" class="headerlink" title="9.search(regexp)"></a>9.search(regexp)</h2><p><code>search()</code> 方法用于检索字符串中指定的子字符串，或检索与正则表达式相匹配的子字符串，如果找到，返回与 <code>regexp</code> 相匹配的子串的起始位置，否则返回 <code>-1</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//search(regexp)</span><br><span class="line">var intRegex = /[0-9 -()+]+$/;  </span><br><span class="line"> </span><br><span class="line">var myNumber = &apos;999&apos;;</span><br><span class="line">var isInt = myNumber.search(intRegex);</span><br><span class="line">console.log(isInt);</span><br><span class="line">//output: 0</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="10-slice-start-end"><a href="#10-slice-start-end" class="headerlink" title="10.slice(start, [end])"></a>10.slice(start, [end])</h2><p><code>slice()</code> 方法可提取字符串的某个部分，返回一个新的字符串。包括字符串从 <code>start</code> 开始（包括 start）到 <code>end</code> 结束（不包括 <code>end</code>）为止的所有字符。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//slice(start, end)</span><br><span class="line">var text=&quot;excellent&quot;</span><br><span class="line">text.slice(0,4) //returns &quot;exce&quot;</span><br><span class="line">text.slice(2,4) //returns &quot;ce&quot;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="11-split-delimiter-limit"><a href="#11-split-delimiter-limit" class="headerlink" title="11.split(delimiter, [limit])"></a>11.split(delimiter, [limit])</h2><p><code>split()</code> 方法用于把一个字符串分割成字符串数组，返回一个字符串数组返回的数组中的字串不包括 <code>delimiter</code>自身。 可选的“<code>limit</code>”是一个整数，允许各位指定要返回的最大数组的元素个数。</p>
<h2 id="12-substr-start-length"><a href="#12-substr-start-length" class="headerlink" title="12.substr(start, [length])"></a>12.substr(start, [length])</h2><p><code>substr()</code> 方法可在字符串中抽取从 <code>start</code> 下标开始的指定数目的字符。返回一个新的字符串，包含从 <code>start</code>（包括 start 所指的字符） 处开始的 <code>length</code> 个字符。如果没有指定 <code>length</code>，那么返回的字符串包含从 <code>start</code> 到该字符串的结尾的字符。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//substr(from, to)</span><br><span class="line">var text=&quot;excellent&quot;</span><br><span class="line">text.substr(0,4) //returns &quot;exce&quot;</span><br><span class="line">text.substr(2,4) //returns &quot;cell&quot;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="13-substring-from-to"><a href="#13-substring-from-to" class="headerlink" title="13.substring(from, [to])"></a>13.substring(from, [to])</h2><p><code>substring()</code> 方法用于提取字符串中介于两个指定下标之间的字符，方返回的子串包括 <code>start</code> 处的字符，但不包括 <code>stop</code> 处的字符，<code>to</code> 可选，如果省略该参数，那么返回的子串会一直到字符串的结尾。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//substring(from, [to])</span><br><span class="line">var myString = &apos;javascript rox&apos;;</span><br><span class="line">myString = myString.substring(0,10);</span><br><span class="line">console.log(myString)</span><br><span class="line">//output: javascript</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="14-toLowerCase"><a href="#14-toLowerCase" class="headerlink" title="14.toLowerCase()"></a>14.toLowerCase()</h2><p><code>toLowerCase()</code> 方法用于把字符串转换为小写。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//toLowerCase()</span><br><span class="line">var myString = &apos;JAVASCRIPT ROX&apos;;</span><br><span class="line">myString = myString.toLowerCase();</span><br><span class="line">console.log(myString)</span><br><span class="line">//output: javascript rox</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="15-toUpperCase"><a href="#15-toUpperCase" class="headerlink" title="15.toUpperCase()"></a>15.toUpperCase()</h2><p><code>toUpperCase()</code> 方法用于把字符串转换为大写。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//toUpperCase()</span><br><span class="line">var myString = &apos;javascript rox&apos;;</span><br><span class="line">myString = myString.toUpperCase();</span><br><span class="line">console.log(myString)</span><br><span class="line">//output: JAVASCRIPT ROX</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="16-includes"><a href="#16-includes" class="headerlink" title="16. includes()"></a>16. includes()</h2><p><code>includes()</code> 方法用于检查字符串是否包含指定的字符串或字符。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//includes()</span><br><span class="line">var mystring = &quot;Hello, welcome to edureka&quot;;</span><br><span class="line">var n = mystring.includes(&quot;edureka&quot;);</span><br><span class="line">//output: True</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="17-endsWith"><a href="#17-endsWith" class="headerlink" title="17. endsWith()"></a>17. endsWith()</h2><p><code>endsWith()</code>函数检查字符串是否以指定的字符串或字符结束。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//endsWith()</span><br><span class="line">var mystr = &quot;List of javascript functions&quot;;</span><br><span class="line">var n = mystr.endsWith(&quot;functions&quot;);</span><br><span class="line">//output: True</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="18-repeat"><a href="#18-repeat" class="headerlink" title="18. repeat()"></a>18. repeat()</h2><p><code>repeat()</code> 构造并返回一个新字符串，该字符串包含被连接在一起的指定数量的字符串的副本。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//repeat()</span><br><span class="line">var string = &quot;Welcome to Edureka&quot;;</span><br><span class="line">string.repeat(2);</span><br><span class="line">//output: Welcome to Edureka Welcome to Edureka</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="19-valueOf"><a href="#19-valueOf" class="headerlink" title="19. valueOf()"></a>19. valueOf()</h2><p><code>valueOf()</code> 方法返回一个<code>String</code>对象的原始值（primitive value），该值等同于<code>String.prototype.toString()</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//valueOf()</span><br><span class="line">var mystr = &quot;Hello World!&quot;;</span><br><span class="line">var res = mystr.valueOf();</span><br><span class="line">//output: Hello World!</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="20-trim"><a href="#20-trim" class="headerlink" title="20. trim()"></a>20. trim()</h2><p><code>trim()</code> 方法会从一个字符串的两端删除空白字符。在这个上下文中的空白字符是所有的空白字符 (space, tab, no-break space 等) 以及所有行终止符字符（如 LF，CR）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//trim()</span><br><span class="line">var str = &quot;     Hello Edureka!     &quot;;</span><br><span class="line">alert(str.trim());</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/07/JS%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95%E6%80%BB%E8%A7%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="STAO">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="STAO_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/07/JS%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95%E6%80%BB%E8%A7%88/" itemprop="url">JS数组方法总览</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-07T16:39:53+08:00">
                2020-05-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CODE/" itemprop="url" rel="index">
                    <span itemprop="name">CODE</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="01、push-value-将value添加到数组的最后，返回数组长度-改变原数组"><a href="#01、push-value-将value添加到数组的最后，返回数组长度-改变原数组" class="headerlink" title="01、push(value)将value添加到数组的最后，返回数组长度(改变原数组)"></a>01、<code>push(value)</code>将value添加到数组的最后，返回数组长度(改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// Base</span><br><span class="line">let a = [1, 2, 3, 4, 5]</span><br><span class="line">let result = a.push(1)</span><br><span class="line">console.log(result)       // 6</span><br><span class="line">console.log(a)            // [1, 2, 3, 4, 5, 1] 原数组被改变</span><br><span class="line"></span><br><span class="line">// More</span><br><span class="line">a = [1, 2, 3, 4, 5]</span><br><span class="line">result = a.push(&apos;a&apos;, &apos;b&apos;) // 可一次添加多个值</span><br><span class="line">console.log(result)       // 7</span><br><span class="line">console.log(a)            // [1, 2, 3, 4, 5, &apos;a&apos;, &apos;b&apos;]</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="02、unshift-添加元素到数组的开头，返回数组的长度-改变原数组"><a href="#02、unshift-添加元素到数组的开头，返回数组的长度-改变原数组" class="headerlink" title="02、unshift()添加元素到数组的开头，返回数组的长度(改变原数组)"></a>02、<code>unshift()</code>添加元素到数组的开头，返回数组的长度(改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// Base</span><br><span class="line">let a = [1, 2, 3, 4, 5]</span><br><span class="line">let result = a.unshift(1)</span><br><span class="line">console.log(result)           // 6</span><br><span class="line">console.log(a)                // [1, 1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">// More</span><br><span class="line">result = a.unshift(&apos;a&apos;, &apos;b&apos;)  // 可一次添加多个值</span><br><span class="line">console.log(result)           // 8</span><br><span class="line">console.log(a)                // [&apos;a&apos;, &apos;b&apos;, 1, 1, 2, 3, 4, 5]</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="03、pop-删除数组中最后一个元素，返回被删除元素-改变原数组"><a href="#03、pop-删除数组中最后一个元素，返回被删除元素-改变原数组" class="headerlink" title="03、pop()删除数组中最后一个元素，返回被删除元素(改变原数组)"></a>03、<code>pop()</code>删除数组中最后一个元素，返回被删除元素(改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// Base</span><br><span class="line">let a = [5]</span><br><span class="line">let result = a.pop()</span><br><span class="line">console.log(result)   // 5</span><br><span class="line">console.log(a)        // []</span><br><span class="line"></span><br><span class="line">// More</span><br><span class="line">result = a.pop()      // 数组元素为空后会返回undefined</span><br><span class="line">console.log(result)   // undefined</span><br><span class="line">console.log(a)        // []</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="04、shift-删除数组第一个元素，返回删除的元素-改变原数组"><a href="#04、shift-删除数组第一个元素，返回删除的元素-改变原数组" class="headerlink" title="04、shift()删除数组第一个元素，返回删除的元素(改变原数组)"></a>04、<code>shift()</code>删除数组第一个元素，返回删除的元素(改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// Base</span><br><span class="line">let a = [5]</span><br><span class="line">let result = a.shift()</span><br><span class="line">console.log(result)      // 5</span><br><span class="line">console.log(a)           // []</span><br><span class="line"></span><br><span class="line">// More</span><br><span class="line">result = a.shift()       // 数组元素为空后会返回undefined</span><br><span class="line">console.log(result)      // undefined</span><br><span class="line">console.log(a)           // []</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="05、join-value-将数组用value连接为字符串-不改变原数组"><a href="#05、join-value-将数组用value连接为字符串-不改变原数组" class="headerlink" title="05、join(value)将数组用value连接为字符串(不改变原数组)"></a>05、<code>join(value)</code>将数组用value连接为字符串(不改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">// Base</span><br><span class="line">let a = [1, 2, 3, 4, 5]</span><br><span class="line">let result = a.join(&apos;,&apos;)</span><br><span class="line">console.log(result)   // &apos;1,2,3,4,5&apos;</span><br><span class="line">console.log(a)        // [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">// More</span><br><span class="line">let obj = &#123;</span><br><span class="line">  toString() &#123;</span><br><span class="line">    console.log(&apos;调用了toString()方法！&apos;)</span><br><span class="line">    return &apos;a&apos;</span><br><span class="line">  &#125;,</span><br><span class="line">  toValue() &#123;</span><br><span class="line">    console.log(&apos;toValue()方法！&apos;)</span><br><span class="line">    return &apos;b&apos;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">result = a.join(obj) // 使用对象时会调用对象自身的toString方法转化为字符串，我们这里重写了toString，从而覆盖了原型链上的toString</span><br><span class="line">// 调用了toString()方法！</span><br><span class="line">console.log(result)   // 1a2a3a4a5</span><br><span class="line">console.log(a)        // [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">// join的一个相对的方法是字符串的split方法</span><br><span class="line">console.log(&apos;1a2a3a4a5&apos;.split(&apos;a&apos;)) // [1, 2, 3, 4, 5]</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="06、reverse-反转数组-改变原数组"><a href="#06、reverse-反转数组-改变原数组" class="headerlink" title="06、reverse()反转数组(改变原数组)"></a>06、<code>reverse()</code>反转数组(改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">// Base</span><br><span class="line">let a = [1, 2, 3, 4, 5]</span><br><span class="line">let result = a.reverse()</span><br><span class="line">console.log(result)   // [5, 4, 3, 2, 1]</span><br><span class="line">console.log(a)        // [5, 4, 3, 2, 1]</span><br><span class="line"></span><br><span class="line">// More</span><br><span class="line">a = [1, [2, 3], [4, 5]]</span><br><span class="line">result = a.reverse()</span><br><span class="line">console.log(result)   // [[4, 5], [2, 3], 1]</span><br><span class="line">console.log(a)        // [[4, 5], [2, 3], 1]</span><br><span class="line">// 可以看到这里的反转只是基于数组的第一层，属于浅反转。</span><br><span class="line"></span><br><span class="line">// 一个简单的深反转，使用递归实现</span><br><span class="line">const deepReverse = (array) =&gt; &#123;</span><br><span class="line">  let temp = array.reverse()</span><br><span class="line">  temp.forEach(v =&gt; &#123;</span><br><span class="line">    if(Object.prototype.toString.call(v) === &apos;[object Array]&apos;) &#123;</span><br><span class="line">      deepReverse(v)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  return temp</span><br><span class="line">&#125;</span><br><span class="line">a = [1, [2, 3], [4, 5]]</span><br><span class="line">result = deepReverse(a)</span><br><span class="line">console.log(result)    // [[5, 4], [3, 2], 1]</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="07、slice-start-end-返回新数组，包含原数组索引start的值到索引end的值，不包含end-不改变原数组"><a href="#07、slice-start-end-返回新数组，包含原数组索引start的值到索引end的值，不包含end-不改变原数组" class="headerlink" title="07、slice(start, end)返回新数组，包含原数组索引start的值到索引end的值，不包含end(不改变原数组)"></a>07、<code>slice(start, end)</code>返回新数组，包含原数组索引start的值到索引end的值，不包含end(不改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// Base</span><br><span class="line">let a = [1, 2, 3, 4, 5]</span><br><span class="line">let result = a.slice(2, 4)</span><br><span class="line">console.log(result)   // [3, 4]</span><br><span class="line">console.log(a)        // [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">// More</span><br><span class="line">console.log(a.slice(1))         // [2, 3, 4, 5]   只有一个参数且不小于0，则从此索引开始截取到数组的末位</span><br><span class="line">console.log(a.slice(-1))        // [5]            只有一个参数且小于0，则从倒数|start|位截取到数组的末位</span><br><span class="line">console.log(a.slice(-1, 1))     // []             反向截取，不合法返回空数组</span><br><span class="line">console.log(a.slice(1, -1))     // [2, 3, 4]      从第一位截取到倒数第一位，不包含倒数第一位</span><br><span class="line">console.log(a.slice(-1, -2))    // []             反向截取，不合法返回空数组</span><br><span class="line">console.log(a.slice(-2, -1))    // [4]            倒数第二位截取到倒数第一位</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="08、splice-index-count-value-从索引为index处删除count个元素，插入value-改变原数组"><a href="#08、splice-index-count-value-从索引为index处删除count个元素，插入value-改变原数组" class="headerlink" title="08、splice(index, count, value)从索引为index处删除count个元素，插入value(改变原数组)"></a>08、<code>splice(index, count, value)</code>从索引为index处删除count个元素，插入value(改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">// Base</span><br><span class="line">let a = [1, 2, 3, 4, 5]</span><br><span class="line">let result = a.splice(1, 2, 0)</span><br><span class="line">console.log(result)   // [2, 3]</span><br><span class="line">console.log(a)        // [1, 0, 4, 5]</span><br><span class="line"></span><br><span class="line">// More</span><br><span class="line">a = [1, 2, 3, 4, 5]</span><br><span class="line">console.log(a.splice(-2))                   // [4. 5]</span><br><span class="line">console.log(a)                              // [1, 2, 3]</span><br><span class="line"></span><br><span class="line">a = [1, 2, 3, 4, 5]</span><br><span class="line">console.log(a.splice(-1))                   // [5]</span><br><span class="line">console.log(a)                              // [1, 2, 3, 4]               当参数为单个且小于0时，将从数组的倒数|index|位截取到数组的末位</span><br><span class="line"></span><br><span class="line">a = [1, 2, 3, 4, 5]</span><br><span class="line">console.log(a.splice(0))                    // [1, 2, 3, 4, 5]</span><br><span class="line">console.log(a)                              // []</span><br><span class="line"></span><br><span class="line">a = [1, 2, 3, 4, 5]</span><br><span class="line">console.log(a.splice(1))                    // [2, 3, 4, 5]</span><br><span class="line">console.log(a)                              // [1]                        当参数为单个且不小于0时，将从当前数代表的索引位开始截取到数组的末位</span><br><span class="line"></span><br><span class="line">a = [1, 2, 3, 4, 5]</span><br><span class="line">console.log(a.splice(-1, 2))                // [5]</span><br><span class="line">console.log(a)                              // [1, 2, 3, 4]               从倒数第一位开始截取两个元素，元素不够，只返回存在的元素</span><br><span class="line"></span><br><span class="line">a = [1, 2, 3, 4, 5]</span><br><span class="line">console.log(a.splice(0, 2, &apos;a&apos;, &apos;b&apos;, &apos;c&apos;))  // [1, 2]</span><br><span class="line">console.log(a)                              // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, 3, 4, 5]   截取后将value一次填充到数组被截取的位置，value的数量大于截取的数量时，数组中剩余的元素后移</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="09、sort-对数组元素进行排序-改变原数组"><a href="#09、sort-对数组元素进行排序-改变原数组" class="headerlink" title="09、sort()对数组元素进行排序(改变原数组)"></a>09、<code>sort()</code>对数组元素进行排序(改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">// Base</span><br><span class="line">let a = [31, 22, 27, 1, 9]</span><br><span class="line">let result = a.sort()</span><br><span class="line">console.log(result)   // [1, 22, 27, 31, 9]</span><br><span class="line">console.log(a)        // [1, 22, 27, 31, 9]</span><br><span class="line"></span><br><span class="line">// More</span><br><span class="line">a = [&apos;c&apos;, &apos;ac&apos;, &apos;ab&apos;, &apos;1c&apos;, 13, 12, &apos;13&apos;, &apos;12&apos;, &apos;3&apos;, &apos;2&apos;, &apos;1b&apos;, &apos;1a&apos;, 1, &apos;aa&apos;, &apos;a&apos;, 3, &apos;b&apos;, 2]</span><br><span class="line">a.sort()</span><br><span class="line">console.log(a) // [1, 12, &quot;12&quot;, 13, &quot;13&quot;, &quot;1a&quot;, &quot;1b&quot;, &quot;1c&quot;, &quot;2&quot;, 2, &quot;3&quot;, 3, &quot;a&quot;, &quot;aa&quot;, &quot;ab&quot;, &quot;ac&quot;, &quot;b&quot;, &quot;c&quot;]</span><br><span class="line">                      // 可以看出sort排序是根据位来进行排序，而非值的大小，先比较第一位数字在前，字母在后，若相同则比较后面位(实际是比较各个值转化为字符串后的各个位点的unicode位点)</span><br><span class="line">a = [31, 22, 27, 1, 9]</span><br><span class="line">a.sort((a, b)=&gt;&#123;</span><br><span class="line">  return a - b</span><br><span class="line">&#125;)</span><br><span class="line">console.log(a)        // [1, 9, 22, 27, 31]  按数值大小正序排列</span><br><span class="line"></span><br><span class="line">a = [31, 22, 27, 1, 9]</span><br><span class="line">a.sort((a, b)=&gt;&#123;</span><br><span class="line">  return b - a</span><br><span class="line">&#125;)</span><br><span class="line">console.log(a)        // [31, 27, 22, 9, 1]  按数值大小倒序排列</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="10、toString-将数组中的元素用逗号拼接成字符串-不改变原数组"><a href="#10、toString-将数组中的元素用逗号拼接成字符串-不改变原数组" class="headerlink" title="10、toString()将数组中的元素用逗号拼接成字符串(不改变原数组)"></a>10、<code>toString()</code>将数组中的元素用逗号拼接成字符串(不改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// Base</span><br><span class="line">let a = [1, 2, 3, 4, 5]</span><br><span class="line">let result = a.toString()</span><br><span class="line">console.log(result)   // 1,2,3,4,5</span><br><span class="line">console.log(a)        // [1, 2, 3, 4, 5]</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="11、indexOf-value-从索引为0开始，检查数组是否包含value，有则返回匹配到的第一个索引，没有返回-1-不改变原数组"><a href="#11、indexOf-value-从索引为0开始，检查数组是否包含value，有则返回匹配到的第一个索引，没有返回-1-不改变原数组" class="headerlink" title="11、indexOf(value)从索引为0开始，检查数组是否包含value，有则返回匹配到的第一个索引，没有返回-1(不改变原数组)"></a>11、<code>indexOf(value)</code>从索引为0开始，检查数组是否包含value，有则返回匹配到的第一个索引，没有返回-1(不改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// Base</span><br><span class="line">let a = [1, 2, 3, 2, 5]</span><br><span class="line">let result = a.indexOf(2)</span><br><span class="line">console.log(result)   // 1</span><br><span class="line">console.log(a)        // [1, 2, 3, 2, 5]</span><br><span class="line"></span><br><span class="line">result = a.indexOf(6)</span><br><span class="line">console.log(result)   // -1</span><br><span class="line">console.log(a)        // [1, 2, 3, 2, 5]</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="12、lastIndexOf-value-从最后的索引开始，检查数组是否包含value，有则返回匹配到的第一个索引，没有返回-1-不改变原数组"><a href="#12、lastIndexOf-value-从最后的索引开始，检查数组是否包含value，有则返回匹配到的第一个索引，没有返回-1-不改变原数组" class="headerlink" title="12、lastIndexOf(value)从最后的索引开始，检查数组是否包含value，有则返回匹配到的第一个索引，没有返回-1(不改变原数组)"></a>12、<code>lastIndexOf(value)</code>从最后的索引开始，检查数组是否包含value，有则返回匹配到的第一个索引，没有返回-1(不改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// Base</span><br><span class="line">let a = [1, 2, 3, 2, 5]</span><br><span class="line">let result = a.lastIndexOf(2)</span><br><span class="line">console.log(result)   // 3</span><br><span class="line">console.log(a)        // [1, 2, 3, 2, 5]</span><br><span class="line"></span><br><span class="line">result = a.lastIndexOf(6)</span><br><span class="line">console.log(result)   // -1</span><br><span class="line">console.log(a)        // [1, 2, 3, 2, 5]</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="13、concat-value-将数组和-或值连接成新数组-不改变原数组"><a href="#13、concat-value-将数组和-或值连接成新数组-不改变原数组" class="headerlink" title="13、concat(value)将数组和/或值连接成新数组(不改变原数组)"></a>13、<code>concat(value)</code>将数组和/或值连接成新数组(不改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// Base</span><br><span class="line">let a = [1, 2], b = [3, 4], c = 5</span><br><span class="line">let result = a.concat(b, c)</span><br><span class="line">console.log(result)   // [1, 2, 3, 4, 5]</span><br><span class="line">console.log(a)        // [1, 2]</span><br><span class="line"></span><br><span class="line">// More</span><br><span class="line">b = [3, [4]]</span><br><span class="line">result = a.concat(b, c)</span><br><span class="line">console.log(result)   // [1, 2, 3, [4], 5] concat对于嵌套数组无法拉平</span><br><span class="line">console.log(a)        // [1, 2]</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="14、fill-value-start-end-使用给定value填充数组，从索引start开始end结束，不包含end-改变原数组"><a href="#14、fill-value-start-end-使用给定value填充数组，从索引start开始end结束，不包含end-改变原数组" class="headerlink" title="14、fill(value, start, end)使用给定value填充数组，从索引start开始end结束，不包含end(改变原数组)"></a>14、<code>fill(value, start, end)</code>使用给定value填充数组，从索引start开始end结束，不包含end(改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// Base</span><br><span class="line">let a = [1, 2, 3, 4, 5]</span><br><span class="line">let result = a.fill(0, 2, 3)</span><br><span class="line">console.log(result)             // [1, 2, 0, 4, 5]</span><br><span class="line">console.log(a)                  // [1, 2, 0, 4, 5]</span><br><span class="line"></span><br><span class="line">// More</span><br><span class="line">a = [1, 2, 3, 4, 5]</span><br><span class="line">console.log(a.fill(1))          // [1, 1, 1, 1, 1]  参数一个时，将该参数覆盖填充到数组每一项</span><br><span class="line">a = [1, 2, 3, 4, 5]</span><br><span class="line">console.log(a.fill(1, 2))       // [1, 2, 1, 1, 1]  只有start时，从索引start开始填充到数组末位</span><br><span class="line">a = [1, 2, 3, 4, 5]</span><br><span class="line">console.log(a.fill(1, -2))      // [1, 2, 3, 1, 1]  只有start且为负数时，从倒数|start|位开始填充到数组末位</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="15、flat-将二维数组变为一维数组-不改变原数组"><a href="#15、flat-将二维数组变为一维数组-不改变原数组" class="headerlink" title="15、flat()将二维数组变为一维数组(不改变原数组)"></a>15、<code>flat()</code>将二维数组变为一维数组(不改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// Base</span><br><span class="line">let a = [1, 2, 3, [4, 5]]</span><br><span class="line">let result = a.flat()</span><br><span class="line">console.log(result)   // [1, 2, 3, 4, 5]</span><br><span class="line">console.log(a)        // [1, 2, 3, [4, 5]]</span><br><span class="line"></span><br><span class="line">let a = [1, 2, 3, [4, 5, [6, 7, [8, 9]]]]</span><br><span class="line">let result = a.flat()</span><br><span class="line">console.log(result)   // [1, 2, 3, 4, 5, [6, 7, [8, 9]]] 很显然只能将第二层嵌套数组“拉平”</span><br><span class="line">console.log(a)        // [1, 2, 3, [4, 5, [6, 7, [8, 9]]]]</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="16、flatMap-相当于map与flat的结合-不改变原数组"><a href="#16、flatMap-相当于map与flat的结合-不改变原数组" class="headerlink" title="16、flatMap()相当于map与flat的结合(不改变原数组)"></a>16、<code>flatMap()</code>相当于map与flat的结合(不改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// Base</span><br><span class="line">let a = [1, 2, 3, 4, 5]</span><br><span class="line">let result = a.flatMap((currentValue)=&gt;&#123;</span><br><span class="line">  return [currentValue, currentValue * 2]</span><br><span class="line">&#125;)</span><br><span class="line">console.log(result)   // [1, 2, 2, 4, 3, 6, 4, 8, 5, 10]</span><br><span class="line">console.log(a)        // [1, 2, 3, 4, 5]</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="17、copyWithin-target-start-end-将数组从start到end索引的元素-不包含end-复制到target开始的索引位置-改变原数组"><a href="#17、copyWithin-target-start-end-将数组从start到end索引的元素-不包含end-复制到target开始的索引位置-改变原数组" class="headerlink" title="17、copyWithin(target, start, end)将数组从start到end索引的元素(不包含end)复制到target开始的索引位置(改变原数组)"></a>17、<code>copyWithin(target, start, end)</code>将数组从start到end索引的元素(不包含end)复制到target开始的索引位置(改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// Base</span><br><span class="line">let a = [1, 2, 3, 4, 5]</span><br><span class="line">let result = a.copyWithin(0, 3, 5)  </span><br><span class="line">console.log(result)                 // [4, 5, 3, 4, 5]</span><br><span class="line">console.log(a)                      // [4, 5, 3, 4, 5]  索引3到5的元素为4和5，复制到从0开始的位置，替换掉了1和2</span><br><span class="line"></span><br><span class="line">// More</span><br><span class="line">a = [1, 2, 3, 4, 5]</span><br><span class="line">console.log(a.copyWithin(2))        // [1, 2, 1, 2, 3]  参数只有一个时，start默认为0，end默认为数组长度-1</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="18、entries-返回一个新的Array迭代器对象-可用for…of遍历-不改变原数组"><a href="#18、entries-返回一个新的Array迭代器对象-可用for…of遍历-不改变原数组" class="headerlink" title="18、entries()返回一个新的Array迭代器对象,可用for…of遍历(不改变原数组)"></a>18、<code>entries()</code>返回一个新的Array迭代器对象,可用for…of遍历(不改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">// Base</span><br><span class="line">let a = [1, 2, 3, 4, 5]</span><br><span class="line">let result = a.entries()</span><br><span class="line">console.log(result.next())   // &#123;value: [0, 1], done: false&#125;    value数组中第一个元素为索引，第二元素为索引对应的值</span><br><span class="line">...</span><br><span class="line">console.log(result.next())   // &#123;value: [4, 5], done: false&#125;</span><br><span class="line">console.log(result.next())   // &#123;value: undefined, done: true&#125;</span><br><span class="line">console.log(result)          // Array Iterator &#123;&#125;</span><br><span class="line">console.log(a)               // [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">result = a.entries()</span><br><span class="line">for(let value of result) &#123;</span><br><span class="line">  console.log(value)</span><br><span class="line">&#125;</span><br><span class="line">// [0, 1]</span><br><span class="line">// [1, 2]</span><br><span class="line">// [2, 3]</span><br><span class="line">// [3, 4]</span><br><span class="line">// [4, 5]</span><br><span class="line"></span><br><span class="line">// Time</span><br><span class="line">a = []</span><br><span class="line">for(let i = 0; i &lt; 10000000; i++) &#123;</span><br><span class="line">  a.push(i)</span><br><span class="line">&#125;</span><br><span class="line">let dateStart = Date.now()</span><br><span class="line">result = a.entries()</span><br><span class="line">for(let v of result) &#123; &#125;</span><br><span class="line">let dateEnd = Date.now()</span><br><span class="line">console.log(dateEnd - dateStart)  // 运行三次，三次的耗时数 518ms 515ms 530ms</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="19、keys-返回一个新的Array迭代器对象-可用for…of遍历-不改变原数组"><a href="#19、keys-返回一个新的Array迭代器对象-可用for…of遍历-不改变原数组" class="headerlink" title="19、keys()返回一个新的Array迭代器对象,可用for…of遍历(不改变原数组)"></a>19、<code>keys()</code>返回一个新的Array迭代器对象,可用for…of遍历(不改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">let a = [1, 2, 3, 4, 5]</span><br><span class="line">let result = a.keys()</span><br><span class="line">console.log(result.next())   // &#123;value: 0, done: false&#125;  value为索引  </span><br><span class="line">...</span><br><span class="line">console.log(result.next())   // &#123;value: 3, done: false&#125;</span><br><span class="line">console.log(result.next())   // &#123;value: 4, done: false&#125;</span><br><span class="line">console.log(result)          // Array Iterator &#123;&#125;</span><br><span class="line">console.log(a)               // [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">result = a.keys()</span><br><span class="line">for(let value of result) &#123;</span><br><span class="line">  console.log(value)</span><br><span class="line">&#125;</span><br><span class="line">// 0</span><br><span class="line">// 1</span><br><span class="line">// 2</span><br><span class="line">// 3</span><br><span class="line">// 4</span><br><span class="line"></span><br><span class="line">// Time</span><br><span class="line">a = []</span><br><span class="line">for(let i = 0; i &lt; 10000000; i++) &#123;</span><br><span class="line">  a.push(i)</span><br><span class="line">&#125;</span><br><span class="line">let dateStart = Date.now()</span><br><span class="line">result = a.keys()</span><br><span class="line">for(let v of result) &#123; &#125;</span><br><span class="line">let dateEnd = Date.now()</span><br><span class="line">console.log(dateEnd - dateStart)  // 运行三次，三次的耗时数 223ms 262ms 300ms</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="20、values-返回一个新的迭代器-不改变原数组"><a href="#20、values-返回一个新的迭代器-不改变原数组" class="headerlink" title="20、values()返回一个新的迭代器(不改变原数组)"></a>20、<code>values()</code>返回一个新的迭代器(不改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">let a = [1, 2, 3, 4, 5]</span><br><span class="line">let result = a.values()</span><br><span class="line">console.log(result.next())   // &#123;value: 1, done: false&#125;  value为索引  </span><br><span class="line">...</span><br><span class="line">console.log(result.next())   // &#123;value: 4, done: false&#125;</span><br><span class="line">console.log(result.next())   // &#123;value: 5, done: false&#125;</span><br><span class="line">console.log(result)          // Array Iterator &#123;&#125;</span><br><span class="line">console.log(a)               // [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">result = a.values()</span><br><span class="line">for(let value of result) &#123;</span><br><span class="line">  console.log(value)</span><br><span class="line">&#125;</span><br><span class="line">// 1</span><br><span class="line">// 2</span><br><span class="line">// 3</span><br><span class="line">// 4</span><br><span class="line">// 5</span><br><span class="line"></span><br><span class="line">// Time</span><br><span class="line">a = []</span><br><span class="line">for(let i = 0; i &lt; 10000000; i++) &#123;</span><br><span class="line">  a.push(i)</span><br><span class="line">&#125;</span><br><span class="line">let dateStart = Date.now()</span><br><span class="line">result = a.values()</span><br><span class="line">for(let v of result) &#123; &#125;</span><br><span class="line">let dateEnd = Date.now()</span><br><span class="line">console.log(dateEnd - dateStart)  // 运行三次，三次的耗时数 254ms 270ms 273ms</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="21、forEach-遍历数组-不改变原数组"><a href="#21、forEach-遍历数组-不改变原数组" class="headerlink" title="21、forEach()遍历数组(不改变原数组)"></a>21、<code>forEach()</code>遍历数组(不改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">let a = [1, 2, 3, 4, 5]</span><br><span class="line">let result = a.forEach((v, i)=&gt;&#123;</span><br><span class="line">  console.log(v, i)  </span><br><span class="line">  // 1 0</span><br><span class="line">  // 2 1</span><br><span class="line">  // 3 2</span><br><span class="line">  // 4 3</span><br><span class="line">  // 5 4</span><br><span class="line">&#125;)</span><br><span class="line">console.log(result)   // undefined</span><br><span class="line">console.log(a)        // [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">// Time</span><br><span class="line">a = []</span><br><span class="line">for(let i = 0; i &lt; 10000000; i++) &#123;</span><br><span class="line">  a.push(i)</span><br><span class="line">&#125;</span><br><span class="line">let dateStart = Date.now()</span><br><span class="line">a.forEach(v=&gt;&#123;&#125;)</span><br><span class="line">let dateEnd = Date.now()</span><br><span class="line">console.log(dateEnd - dateStart)  // 运行三次，三次的耗时数 182ms 188ms 180ms</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="22、every-fn-判断数组中是否所有元素都满足fn函数中的条件-不改变原数组"><a href="#22、every-fn-判断数组中是否所有元素都满足fn函数中的条件-不改变原数组" class="headerlink" title="22、every(fn)判断数组中是否所有元素都满足fn函数中的条件(不改变原数组)"></a>22、<code>every(fn)</code>判断数组中是否所有元素都满足fn函数中的条件(不改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">let a = [1, 2, 3, 4, 5]</span><br><span class="line">let result = a.every((currentValue)=&gt;&#123;</span><br><span class="line">  return currentValue &gt; 0</span><br><span class="line">&#125;)</span><br><span class="line">console.log(result)   // true  显然所有元素都大于0</span><br><span class="line"></span><br><span class="line">result = a.every((currentValue)=&gt;&#123;</span><br><span class="line">  return currentValue &gt; 1</span><br><span class="line">&#125;)</span><br><span class="line">console.log(result)   // false  1并不大于1</span><br><span class="line">console.log(a)        // [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">// Time</span><br><span class="line">a = []</span><br><span class="line">for(let i = 0; i &lt; 10000000; i++) &#123;</span><br><span class="line">  a.push(i)</span><br><span class="line">&#125;</span><br><span class="line">let dateStart = Date.now()</span><br><span class="line">a.every(v=&gt; v &gt; -1 )</span><br><span class="line">let dateEnd = Date.now()</span><br><span class="line">console.log(dateEnd - dateStart) // 运行三次，三次的耗时数 176ms 200ms 186ms</span><br><span class="line"></span><br><span class="line">dateStart = Date.now()</span><br><span class="line">a.every(v=&gt; v &gt; 8 )</span><br><span class="line">dateEnd = Date.now()</span><br><span class="line">console.log(dateEnd - dateStart) // 0ms 0ms 0ms 不超过1ms，可见every的判断是在识别到不满足的条件时，立刻停止</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="23、filter-fn-返回数组中满足fn函数中条件的集合-不改变原数组"><a href="#23、filter-fn-返回数组中满足fn函数中条件的集合-不改变原数组" class="headerlink" title="23、filter(fn)返回数组中满足fn函数中条件的集合(不改变原数组)"></a>23、<code>filter(fn)</code>返回数组中满足fn函数中条件的集合(不改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">let a = [1, 2, 3, 4, 5]</span><br><span class="line">let result = a.filter((currentValue)=&gt;&#123;</span><br><span class="line">  return currentValue &gt; 4</span><br><span class="line">&#125;)</span><br><span class="line">console.log(result)   // [5] 只有5满足条件</span><br><span class="line">console.log(a)        // [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">// Time</span><br><span class="line">a = []</span><br><span class="line">for(let i = 0; i &lt; 10000000; i++) &#123;</span><br><span class="line">  a.push(i)</span><br><span class="line">&#125;</span><br><span class="line">let dateStart = Date.now()</span><br><span class="line">a.filter(v=&gt; v &gt; -1 )</span><br><span class="line">let dateEnd = Date.now()</span><br><span class="line">console.log(dateEnd - dateStart) // 运行三次，三次的耗时数 584ms 660ms 552ms 全部值都满足条件的情况</span><br><span class="line"></span><br><span class="line">a = []</span><br><span class="line">for(let i = 0; i &lt; 10000000; i++) &#123;</span><br><span class="line">  a.push(i)</span><br><span class="line">&#125;</span><br><span class="line">let dateStart = Date.now()</span><br><span class="line">a.filter(v=&gt; v &lt; 0 )</span><br><span class="line">let dateEnd = Date.now()</span><br><span class="line">console.log(dateEnd - dateStart) // 200ms 194ms 183ms 这个时候才个forEach接近，这也是与forEach本身只有遍历的功能，没有执行其他逻辑相关</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="24、find-fn-返回数组中第一个匹配fn函数中条件的值没有则返回undefined-不改变原数组"><a href="#24、find-fn-返回数组中第一个匹配fn函数中条件的值没有则返回undefined-不改变原数组" class="headerlink" title="24、find(fn)返回数组中第一个匹配fn函数中条件的值没有则返回undefined(不改变原数组)"></a>24、<code>find(fn)</code>返回数组中第一个匹配fn函数中条件的值没有则返回undefined(不改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">let a = [1, 2, 3, 4, 5]</span><br><span class="line">let result = a.find((currentValue)=&gt;&#123;</span><br><span class="line">  return currentValue &gt; 3</span><br><span class="line">&#125;)</span><br><span class="line">console.log(result)   // 4</span><br><span class="line">console.log(a)        // [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">let result = a.find((currentValue)=&gt;&#123;</span><br><span class="line">  return currentValue &gt; 5</span><br><span class="line">&#125;)</span><br><span class="line">console.log(result)   // undefined</span><br><span class="line">console.log(a)        // [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">// Time</span><br><span class="line">a = []</span><br><span class="line">for(let i = 0; i &lt; 10000000; i++) &#123;</span><br><span class="line">  a.push(i)</span><br><span class="line">&#125;</span><br><span class="line">let dateStart = Date.now()</span><br><span class="line">a.find(v=&gt; v &lt; 0 )</span><br><span class="line">let dateEnd = Date.now()</span><br><span class="line">console.log(dateEnd - dateStart)  // 185ms 197ms 203ms 全部不满足的情况下，效率与forEach相当</span><br><span class="line"></span><br><span class="line">a = []</span><br><span class="line">for(let i = 0; i &lt; 10000000; i++) &#123;</span><br><span class="line">  a.push(i)</span><br><span class="line">&#125;</span><br><span class="line">let dateStart = Date.now()</span><br><span class="line">a.find(v=&gt; v &gt; 10 )</span><br><span class="line">let dateEnd = Date.now()</span><br><span class="line">console.log(dateEnd - dateStart)  // 0ms 0ms 0ms 小于1ms，可以判断当匹配到满足条件的第一个值后，立刻停止循环，与every相当</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="25、findIndex-fn-返回数组中第一个匹配fn函数中条件的索引没有则返回undefined-不改变原数组"><a href="#25、findIndex-fn-返回数组中第一个匹配fn函数中条件的索引没有则返回undefined-不改变原数组" class="headerlink" title="25、findIndex(fn)返回数组中第一个匹配fn函数中条件的索引没有则返回undefined(不改变原数组)"></a>25、<code>findIndex(fn)</code>返回数组中第一个匹配fn函数中条件的索引没有则返回undefined(不改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">let a = [1, 2, 3, 4, 5]</span><br><span class="line">let result = a.findIndex((currentValue)=&gt;&#123;</span><br><span class="line">  return currentValue &gt; 3</span><br><span class="line">&#125;)</span><br><span class="line">console.log(result)   // 3</span><br><span class="line">console.log(a)        // [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">let result = a.findIndex((currentValue)=&gt;&#123;</span><br><span class="line">  return currentValue &gt; 5</span><br><span class="line">&#125;)</span><br><span class="line">console.log(result)   // -1</span><br><span class="line">console.log(a)        // [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">// Time</span><br><span class="line">a = []</span><br><span class="line">for(let i = 0; i &lt; 10000000; i++) &#123;</span><br><span class="line">  a.push(i)</span><br><span class="line">&#125;</span><br><span class="line">let dateStart = Date.now()</span><br><span class="line">a.findIndex(v=&gt; v &lt; 0 )</span><br><span class="line">let dateEnd = Date.now()</span><br><span class="line">console.log(dateEnd - dateStart)  // 185ms 183ms 187ms 与find相当</span><br><span class="line"></span><br><span class="line">a = []</span><br><span class="line">for(let i = 0; i &lt; 10000000; i++) &#123;</span><br><span class="line">  a.push(i)</span><br><span class="line">&#125;</span><br><span class="line">let dateStart = Date.now()</span><br><span class="line">a.findIndex(v=&gt; v &gt; 10 )</span><br><span class="line">let dateEnd = Date.now()</span><br><span class="line">console.log(dateEnd - dateStart)  // 0ms 0ms 0ms 与find相当</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="26、includes-返回一个布尔值，表示某个数组是否包含给定的值-不改变原数组"><a href="#26、includes-返回一个布尔值，表示某个数组是否包含给定的值-不改变原数组" class="headerlink" title="26、includes()返回一个布尔值，表示某个数组是否包含给定的值(不改变原数组)"></a>26、<code>includes()</code>返回一个布尔值，表示某个数组是否包含给定的值(不改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">let a = [1, 2, 3, 4, 5]</span><br><span class="line">let result = a.includes(2)</span><br><span class="line">console.log(result)   // true</span><br><span class="line">console.log(a)        // [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">result = a.includes(6)</span><br><span class="line">console.log(result)   // false</span><br><span class="line">console.log(a)        // [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">// Time</span><br><span class="line">a = []</span><br><span class="line">for(let i = 0; i &lt; 10000000; i++) &#123;</span><br><span class="line">  a.push(i)</span><br><span class="line">&#125;</span><br><span class="line">let dateStart = Date.now()</span><br><span class="line">a.includes(10)</span><br><span class="line">let dateEnd = Date.now()</span><br><span class="line">console.log(dateEnd - dateStart) // 0ms 0ms 0ms</span><br><span class="line"></span><br><span class="line">a = []</span><br><span class="line">for(let i = 0; i &lt; 10000000; i++) &#123;</span><br><span class="line">  a.push(i)</span><br><span class="line">&#125;</span><br><span class="line">let dateStart = Date.now()</span><br><span class="line">a.includes(10000000-1)</span><br><span class="line">let dateEnd = Date.now()</span><br><span class="line">console.log(dateEnd - dateStart) // 22ms 18ms 27ms 性能不错</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="27、map-fn-以fn函数中返回值组成新的数组返回-不改变原数组"><a href="#27、map-fn-以fn函数中返回值组成新的数组返回-不改变原数组" class="headerlink" title="27、map(fn)以fn函数中返回值组成新的数组返回(不改变原数组)"></a>27、<code>map(fn)</code>以fn函数中返回值组成新的数组返回(不改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">let a = [1, 2, 3, 4, 5]</span><br><span class="line">let result = a.map((v, i)=&gt;&#123;</span><br><span class="line">  return 9</span><br><span class="line">&#125;)</span><br><span class="line">console.log(result)   // [9, 9, 9, 9, 9]</span><br><span class="line">console.log(a)        // [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">// Time</span><br><span class="line">a = []</span><br><span class="line">for(let i = 0; i &lt; 10000000; i++) &#123;</span><br><span class="line">  a.push(i)</span><br><span class="line">&#125;</span><br><span class="line">let dateStart = Date.now()</span><br><span class="line">a.map(v=&gt;1)</span><br><span class="line">let dateEnd = Date.now()</span><br><span class="line">console.log(dateEnd - dateStart) // 2158ms 2007ms 2079ms 耗时比较大</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="28、reduce-累计器-不改变原数组"><a href="#28、reduce-累计器-不改变原数组" class="headerlink" title="28、reduce()累计器(不改变原数组)"></a>28、<code>reduce()</code>累计器(不改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">let a = [1, 2, 3, 4, 5]</span><br><span class="line">let result = a.reduce((accumulator, currentValue, currentIndex, array)=&gt;&#123;</span><br><span class="line">  console.log(accumulator, currentValue, currentIndex, array)</span><br><span class="line">  return accumulator + currentValue</span><br><span class="line">  // 5  1 0 [1, 2, 3, 4, 5]  第一次accumulator的值为reduce第二个参数5, currentValue为数组第一个元素</span><br><span class="line">  // 6  2 1 [1, 2, 3, 4, 5]  第二次accumulator的值为5加上数组a中的第一个值，即是第一次循环时return的值</span><br><span class="line">  // 8  3 2 [1, 2, 3, 4, 5]  同上</span><br><span class="line">  // 11 4 3 [1, 2, 3, 4, 5]  同上 </span><br><span class="line">  // 15 5 4 [1, 2, 3, 4, 5]  同上</span><br><span class="line">&#125;, 5)</span><br><span class="line">console.log(result)   // 20 为最终累计的和</span><br><span class="line">console.log(a)        // [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">// 无初始值时，accumulator的初始值为数组的第一个元素，currentValue为数组第二个元素</span><br><span class="line">result = a.reduce((accumulator, currentValue, currentIndex, array)=&gt;&#123;</span><br><span class="line">  console.log(accumulator, currentValue, currentIndex, array)</span><br><span class="line">  return accumulator + currentValue</span><br><span class="line">  // 1  2 1 [1, 2, 3, 4, 5]</span><br><span class="line">  // 3  3 2 [1, 2, 3, 4, 5]</span><br><span class="line">  // 6  4 3 [1, 2, 3, 4, 5]</span><br><span class="line">  // 10 5 4 [1, 2, 3, 4, 5]</span><br><span class="line">&#125;)</span><br><span class="line">console.log(result)   // 15 为最终累计的和</span><br><span class="line">console.log(a)        // [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">// Time</span><br><span class="line">a = []</span><br><span class="line">for(let i = 0; i &lt; 10000000; i++) &#123;</span><br><span class="line">  a.push(i)</span><br><span class="line">&#125;</span><br><span class="line">let dateStart = Date.now()</span><br><span class="line">a.reduce((accumulator, currentValue, currentIndex, array)=&gt;&#123;</span><br><span class="line">  return accumulator + currentValue</span><br><span class="line">&#125;)</span><br><span class="line">let dateEnd = Date.now()</span><br><span class="line">console.log(dateEnd - dateStart) // 200ms 258ms 257ms 效率与forEach相差也不多，而且比forEach多个累计的功能</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="29、reduceRight-与reduce功能一样，只是从数组末尾开始进行累计-不改变原数组"><a href="#29、reduceRight-与reduce功能一样，只是从数组末尾开始进行累计-不改变原数组" class="headerlink" title="29、reduceRight()与reduce功能一样，只是从数组末尾开始进行累计(不改变原数组)"></a>29、<code>reduceRight()</code>与reduce功能一样，只是从数组末尾开始进行累计(不改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">略...</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="30、some-fn-检查数组中是否含有满足fn函数条件的值-不改变原数组"><a href="#30、some-fn-检查数组中是否含有满足fn函数条件的值-不改变原数组" class="headerlink" title="30、some(fn)检查数组中是否含有满足fn函数条件的值(不改变原数组)"></a>30、<code>some(fn)</code>检查数组中是否含有满足fn函数条件的值(不改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">let a = [1, 2, 3, 4, 5]</span><br><span class="line">let result = a.some((v)=&gt;&#123;</span><br><span class="line">  return v &gt; 2</span><br><span class="line">&#125;)</span><br><span class="line">console.log(result)   // true</span><br><span class="line">console.log(a)        // [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">result = a.some((v)=&gt;&#123;</span><br><span class="line">  return v &gt; 6</span><br><span class="line">&#125;)</span><br><span class="line">console.log(result)   // false</span><br><span class="line">console.log(a)        // [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">// Time</span><br><span class="line">a = []</span><br><span class="line">for(let i = 0; i &lt; 10000000; i++) &#123;</span><br><span class="line">  a.push(i)</span><br><span class="line">&#125;</span><br><span class="line">let dateStart = Date.now()</span><br><span class="line">a.some(v=&gt;&#123;</span><br><span class="line">  return v &lt; 0</span><br><span class="line">&#125;)</span><br><span class="line">let dateEnd = Date.now()</span><br><span class="line">console.log(dateEnd - dateStart)  // 171ms 176ms 188ms 全部不满足的情况下效率与forEach相当</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="31、toLocaleString-将数组中的每个元素使用各自的toLocaleString-转换后用-拼接-不改变原数组"><a href="#31、toLocaleString-将数组中的每个元素使用各自的toLocaleString-转换后用-拼接-不改变原数组" class="headerlink" title="31、toLocaleString()将数组中的每个元素使用各自的toLocaleString()转换后用,拼接(不改变原数组)"></a>31、<code>toLocaleString()</code>将数组中的每个元素使用各自的toLocaleString()转换后用<code>,</code>拼接(不改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let a = [1, new Date(), &apos;a&apos;, &#123;m: 1&#125;]</span><br><span class="line">let result = a.toLocaleString()</span><br><span class="line">console.log(result)   // &apos;1,2018/10/3 下午9:23:59,a,[object Object]&apos;</span><br><span class="line">console.log(a)        // [1, Wed Oct 03 2018 21:23:59 GMT+0800 (中国标准时间), &quot;a&quot;, &#123;m: 1&#125;]</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="32、-iterator-数组自带的迭代器方法-不改变原数组"><a href="#32、-iterator-数组自带的迭代器方法-不改变原数组" class="headerlink" title="32、[@@iterator]()数组自带的迭代器方法(不改变原数组)"></a>32、<code>[@@iterator]()</code>数组自带的迭代器方法(不改变原数组)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">使得数组原生可以使用for...of进行遍历</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/06/vue.js%E4%B8%AD%E7%88%B6%E7%BB%84%E4%BB%B6%E8%A7%A6%E5%8F%91%E5%AD%90%E7%BB%84%E4%BB%B6%E4%B8%AD%E7%9A%84%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="STAO">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="STAO_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/06/vue.js%E4%B8%AD%E7%88%B6%E7%BB%84%E4%BB%B6%E8%A7%A6%E5%8F%91%E5%AD%90%E7%BB%84%E4%BB%B6%E4%B8%AD%E7%9A%84%E6%96%B9%E6%B3%95/" itemprop="url">vue.js中父组件触发子组件中的方法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-06T13:54:37+08:00">
                2020-05-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CODE/" itemprop="url" rel="index">
                    <span itemprop="name">CODE</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#子组件</p>
<p>这边以一个子组件挂载在生命周期的函数为例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mounted() &#123;</span><br><span class="line">    this.QCInfoQuery();</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>#父组件</p>
<p>其实就是父组件中获取到子组件这个节点对它的方法进行调用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-tab-pane label=&quot;待质检&quot; name=&quot;second&quot;&gt;</span><br><span class="line">    &lt;second :form=&apos;form&apos; v-if=&quot;isSecond&quot; ref=&quot;childComponent&quot;&gt;&lt;/second&gt;</span><br><span class="line">&lt;/el-tab-pane&gt;</span><br><span class="line"></span><br><span class="line">import Second from &apos;./component/WaitQC.vue&apos;;</span><br><span class="line"></span><br><span class="line">components: &#123;</span><br><span class="line">        &quot;second&quot;:Second</span><br><span class="line">      &#125;</span><br><span class="line">	  </span><br><span class="line">waitQcQuery()&#123;</span><br><span class="line">      this.$refs.childComponent.QCInfoQuery()</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/28/JSON-stringify-JSON-parse%E6%8A%80%E5%B7%A7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="STAO">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="STAO_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/04/28/JSON-stringify-JSON-parse%E6%8A%80%E5%B7%A7/" itemprop="url">JSON.stringify/JSON.parse使用技巧</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-04-28T11:23:14+08:00">
                2020-04-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CODE/" itemprop="url" rel="index">
                    <span itemprop="name">CODE</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>JSON.stringify()的作用是将js对象转换为 JSON 字符串，而JSON.parse()可以将JSON字符串转为一个对象。</p>
<h1 id="1-深度拷贝"><a href="#1-深度拷贝" class="headerlink" title="1.深度拷贝"></a>1.深度拷贝</h1><p>在实际开发中，为了不影响原对象，可利用<code>JSON.parse( JSON.stringify(obj) )</code>深度拷贝原obj的副本。</p>
<h1 id="2-判断数组中是否包含某对象"><a href="#2-判断数组中是否包含某对象" class="headerlink" title="2.判断数组中是否包含某对象"></a>2.判断数组中是否包含某对象</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//判断数组是否包含某对象</span><br><span class="line">let data = [</span><br><span class="line">    &#123;name:&apos;hi&apos;&#125;,</span><br><span class="line">    &#123;age:&apos;13&apos;&#125;,</span><br><span class="line">    &#123;job:&apos;coder&apos;&#125;,</span><br><span class="line">    ],</span><br><span class="line">    val = &#123;name:&apos;hi&apos;&#125;;</span><br><span class="line">JSON.stringify(data).indexOf(JSON.stringify(val)) !== -1;//true</span><br></pre></td></tr></table></figure>
<h1 id="3-判断对象（数组）是否相等"><a href="#3-判断对象（数组）是否相等" class="headerlink" title="3.判断对象（数组）是否相等"></a>3.判断对象（数组）是否相等</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">  let a = [1,2,3],</span><br><span class="line">    b = [1,2,3];</span><br><span class="line">console.log(JSON.stringify(a) === JSON.stringify(b));</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">&lt;i class=&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">STAO</p>
              <p class="site-description motion-element" itemprop="description">前端学习</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">28</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          
		<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1399664349&auto=1&height=66"></iframe>
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2019 &mdash; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">STAO</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
